const QrisPromises=function(e){return this.baseUrl="https://qris.trxpg.com/qris",this.baseCode="e4yLiBxo3zZtUDsKyuGZ",this.data=null,this};QrisPromises.prototype.rafAsync=async function(){return new Promise(e=>{requestAnimationFrame(e)})},QrisPromises.prototype.finder=function(e){return null===document.querySelector(e)?this.rafAsync().then(()=>this.finder(e)):Promise.resolve(e)},QrisPromises.prototype.changeBank=function(e){var t=(t=$("#scumloph19bank21_ option:selected").text().toLowerCase()).split(",").at(0).trim();e.find(e=>t==e.toLocaleLowerCase())!=undefined?($("#scumloph19bank21_").parent().next().next().next().hide(),$("#scumloph19bank21_").parent().parent().next().hide(),$("#injectautodepoqris").show(),$("#kirimkan").hide(),$("#hapuskan").hide(),srollto_contentqris=$("#iframeaudotdepoqris").offset().top,$("#content").animate({scrollTop:srollto_contentqris},500)):($("#scumloph19bank21_").parent().next().next().next().show(),$("#scumloph19bank21_").parent().parent().next().show(),$("#injectautodepoqris").hide(),$("#kirimkan").show(),$("#hapuskan").show())},QrisPromises.prototype.init=function(t,e){var n;e.includes("1")&&0<$("#scumloph19bank21_").length&&null==document.getElementById("injectautodepoqris")&&(n=["QRIS"],e=window.addEventListener?"addEventListener":"attachEvent",(0,window[e])("attachEvent"==e?"onmessage":"message",function(e){"myevent"===e.data&&(document.getElementById("injectautodepoqris").style.height="800px",$("#content").animate({scrollTop:NaN},500)),"string"==typeof e.data&&e.data.includes("databtoa")&&(e=e.data.replaceAll("databtoa:",""),(e=JSON.parse(atob(e))).bank)&&(n=e.bank,t.changeBank(n))}),$('<div class="form-group"><div class="col-sm-4"></div><div id="injectautodepoqris" class="col-sm-8" style="height: 500px; display:none;"><iframe id="iframeaudotdepoqris" scrolling="no" style="height: 100%; width: 100%; overflow: hidden;" src="'+t.baseUrl+"/"+t.baseCode+'"></iframe></div></div>').insertAfter($("#scumloph19bank21_").parent().parent().next()),setTimeout(function(){$("#iframeaudotdepoqris").on("load",function(){document.getElementById("iframeaudotdepoqris").contentWindow.postMessage('{"username":"'+$("#current-user").text().trim().split(" ")[0]+'"}',"*")})}),$("#scumloph19bank21_").on("change",function(){t.changeBank(n)}))},QrisPromises.prototype.fetchdata=function(e){null==e?fetch(this.baseUrl+"/manifest/"+this.baseCode).then(e=>e.json()).then(e=>{this.data=e.data.split(","),this.run(this.data)}):this.run(e)},QrisPromises.prototype.run=function(t){this.finder("#scumloph19bank21_").then(e=>{null!=$(e)&&this.init(this,t)})};var QPromises=null;window.addEventListener("load",function(){null==QPromises&&(QPromises=new QrisPromises(window.jQuery)).fetchdata(QPromises.data)}),window.addEventListener("DOMSubtreeModified",()=>{null==QPromises?window.jQuery&&(QPromises=new QrisPromises(window.jQuery)).fetchdata(QPromises.data):null!=QPromises.data&&QPromises.run(QPromises.data)});