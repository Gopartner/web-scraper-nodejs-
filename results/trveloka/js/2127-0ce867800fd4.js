"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2127],{29890:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(32735),i=r(23604),a=r(21276),l=r(97253),o=r(41795),c=r(39104),s=r(24547);function u(){var e=(0,a.H)();return(0,n.useCallback)((function(t){var r=t.params,n=t.query,a=t.hostType,u=e.routePrefix?"/".concat(e.routePrefix):"",d=(0,o.Z)(a,e);if(e.useNativeI18n){if("href"in t){t.as&&s.Z.warn("`as` is no longer needed and it will be ignored");var p=t.href.includes("?")?"&":"?",h=(0,l.Z)(n,p);return[d+t.href+h,d+u+t.href+h]}r&&s.Z.warn("using `route` and `params` options is deprecated in SSG-enabled pages. See https://nextjs.org/blog/next-10#automatic-resolving-of-href");var g=(0,l.Z)(n),f=(0,i.Z)(t.route,r);return[d+f+g,d+u+f+g]}if("href"in t){var v,m=t.href.includes("?")?"&":"?",y=(null===(v=t.as)||void 0===v?void 0:v.includes("?"))?"&":"?",b=(0,l.Z)(n,m),T=(0,l.Z)(n,y);return[d+t.href+b,d+u+t.as+T]}(0,c.Z)(r,n);var x=t.route,S=(0,l.Z)(Object.assign({routePrefix:e.routePrefix},r,n)),Z=(0,l.Z)(n);return[d+x+S,d+u+(0,i.Z)(x,r)+Z]}),[e])}},56273:function(e,t,r){var n=r(47556);t.Z=n.unstable_batchedUpdates},14025:function(e,t,r){r.d(t,{J:function(){return u},U:function(){return g}});var n=r(32735),i=r(62948),a=r(21276),l=r(29890),o=r(25777);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=(0,a.H)(),r=(0,l.Z)(),i=g(),c=e.slice(1),u=s(n.useState(h(i,c)),2),p=u[0],f=u[1];return n.useEffect((function(){var e=h(i,c);e!==p&&f(e)}),[i,c]),[p,function(e){var n=s(r({route:o.ZP.pathname,query:t.query,params:t.params}),2),a=n[0],l=n[1];f(e),e?o.ZP.push(a,"".concat(l).concat(function(e,t){if(""===e||"#"===e)return"#"+t;var r=new Set(e.slice(1).split(d));return r.add(t),"#"+Array.from(r).join(d)}(i,c))):o.ZP.replace(a,"".concat(l).concat(function(e,t){if(""===e)return e;var r=e.slice(1).split(d);r[r.length-1]===t&&r.pop();return"#"+r.join(d)}(i,c)))}]}var d="~";function p(e){var t=e.indexOf("#");return t>=0?e.slice(t):""}function h(e,t){return e.slice(1).split(d).some((function(e){return e===t}))}function g(){var e=n.useMemo((function(){return{getCurrentValue:function(){return p(o.ZP.asPath)},subscribe:function(e){var t=function(t){var n=t.indexOf("#"),i="";n>=0&&(i=t.slice(n)),r!==i&&(r=i,e())},r=p(o.ZP.asPath);return o.ZP.events.on("hashChangeComplete",t),function(){o.ZP.events.off("hashChangeComplete",t)}}}}),[]);return(0,i.useSubscription)(e)}},86012:function(e,t,r){function n(e){try{return window.localStorage.getItem(e)||null}catch(t){return null}}function i(e,t){try{return window.localStorage.setItem(e,t),!0}catch(r){return!1}}function a(e){try{return window.localStorage.removeItem(e),!0}catch(t){return!1}}r.d(t,{Tn:function(){return a},_4:function(){return i},wf:function(){return n}})},94117:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(32735),i=r(56273);function a(e,t){(0,n.useEffect)((function(){var r=function(r){var n=e.current;if(n){var a=r.target;n.contains(a)||(0,i.Z)(t)}};return document.body.addEventListener("click",r,{capture:!0}),function(){return document.body.removeEventListener("click",r,{capture:!0})}}),[e,t])}},70649:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(74512),i=(r(32735),r(87904));function a(e){return(0,n.jsx)(i.Z,{style:[e.style,l.container],children:(0,n.jsx)(i.Z,{style:l.container,children:e.children})})}var l=r(6907).Z.create({container:{flex:1,alignSelf:"center",justifyContent:"center"}})},33044:function(e,t,r){r.d(t,{Bn:function(){return v},Fo:function(){return Z},HM:function(){return x},kE:function(){return y},md:function(){return S},o0:function(){return T},p6:function(){return b},z:function(){return I}});var n=r(32735),i=r(89182),a=r(38265),l=r(42530),o=r(69562),c=r(66903),s=r(74798),u=r(42748),d=r(63383),p=r(18054);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return new Date(Number(e.year),Number(e.month)-1,Number(e.day))}function m(e,t){return new Date(Number(e.year),Number(e.month)-1,Number(e.day),t.hour,t.minute)}function y(){var e=(0,l.bU)();return(0,n.useMemo)((function(){return function(e){if("en"===e.language)return"au"===e.country?o.Z:c.Z;switch(e.language){case"id":return s.Z;case"th":return u.Z;case"vi":return d.Z;case"ms":return p.Z;default:return c.Z}}(e)}),[])}function b(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"E, d MMM yyyy";return(0,i.Z)(v(e),r,{locale:t})}function T(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"E, d MMM yyyy HH:mm";return(0,i.Z)(m(e,t),n,{locale:r})}function x(e,t){return(0,a.Z)(v(e),v(t))}function S(e,t){return m(e,t).toISOString()}function Z(e,t){return Number(e.day)===Number(t.day)&&Number(e.month)===Number(t.month)&&Number(e.year)===Number(t.year)}function j(e){var t=[];return e.forEach((function(e){var r=t.findIndex((function(t){return t.month===e.month&&t.year===e.year}));-1===r?t.push({month:e.month,year:e.year,days:[e.day]}):t[r]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){g(e,t,r[t])}))}return e}({},t[r],{days:f(t[r].days).concat([e.day])})})),t}function I(e,t){return j(e).map((function(e){var r=e.days.join(", "),n=(0,i.Z)(new Date(e.year,e.month-1),"MMMM yyyy",{locale:t});return"".concat(r," ").concat(n)}))}},51530:function(e,t,r){r.d(t,{I:function(){return g}});var n=r(75816),i=r(55721),a=r(42530),l=r(28208),o=r(10742),c=r(33044),s=r(54730),u=r(78215),d=r(90012);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h="rental.frontend";function g(){var e=(0,n.Z)(),t=(0,i.qr)(),r=(0,a.bU)(),g=(0,o.AC)(),f=(0,o.QH)(),v=(0,l.aF)(),m="",y="",b="",T=null===v||void 0===v?void 0:v.authorizationLevel;(null===v||void 0===v?void 0:v.loggedIn)&&(m=v.id,y=v.id,b=v.loginMethod);return{rentalTrack:function(n,i){var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){p(e,t,r[t])}))}return e}({intf:t,country:r.country,lang:r.language,currency:r.defaultCurrency,visitId:g,clientTimestamp:(new Date).getTime(),systemTimestamp:(0,s.Z)((0,c.md)((0,u.QK)(new Date),(0,d.eT)(new Date)),"Asia/Jakarta").getTime(),eventTrigger:f,profileId:m,loginId:y,loginMethod:b,authLvl:T},n);i?e(h,a).send():e(h,a)}}}},10742:function(e,t,r){r.d(t,{AC:function(){return s},QH:function(){return g},eW:function(){return h},ku:function(){return u},nS:function(){return d},zL:function(){return p}});var n=r(16979),i=r(95260),a=r(21276),l="rentalVisitId",o="rentalSearchVehicleId",c="rentalSearchSupplierId";function s(){return i.Z.getItem(l)||u()}function u(){var e=(0,n.v4)();return i.Z.setItem(l,e),e}function d(e){return i.Z.setItem(o,e)}function p(){return i.Z.getItem(o)||""}function h(){return i.Z.getItem(c)||""}function g(){var e=(0,a.H)().query;return e.utm_source?"MARKETING - ".concat(e.utm_source):"TVLK_HOME_PAGE"}},45895:function(e,t,r){var n=r(74512),i=r(32735),a=r(87904);function l(e){return(0,n.jsx)(a.Z,{style:[e.style,o.container],children:(0,n.jsx)(a.Z,{style:o.container,children:e.children})})}var o=r(6907).Z.create({container:{flex:1,alignSelf:"center",justifyContent:"center"}});t.Z=i.memo(l,(function(){return!0}))},4792:function(e,t,r){r.d(t,{Z:function(){return Mr}});var n=r(74512),i=r(32735),a=r(87904),l=r(6907),o=r(41903),c=r(79621),s=r(48626),u=r(8265),d=r(47533),p=r(34599);var h=function(e,t){try{return e.filter((function(e){return function(e,t,r){var n,i,a,l;return!(null===(n=e.pricing)||void 0===n?void 0:n.sellingPrice)||!!((null===(i=e.pricing)||void 0===i?void 0:i.sellingPrice)&&(null===(a=e.pricing)||void 0===a?void 0:a.sellingPrice.currencyValue.amount)>=t&&(null===(l=e.pricing)||void 0===l?void 0:l.sellingPrice.currencyValue.amount)<=r)}(e,t.selectedPrice.min,t.selectedPrice.max)&&function(e,t,r){return!t||!r.length||!("FILTER_TAG"!==t||!r.some((function(t){var r;return e.productHighlight&&(null===(r=e.productHighlight.filterTags)||void 0===r?void 0:r.includes(t))})))}(e,t.selectedFilterTag.filterType,t.selectedFilterTag.filterTags)&&function(e,t){if(0===t.length)return!0;for(var r=0;r<t.length;r++){if("FIVE_TO_SIX_SEAT"===t[r]&&Number(e.vehicleData.seatCapacity)>=5)return!0;if("FOUR_SEAT"===t[r]&&Number(e.vehicleData.seatCapacity)>=4)return!0;if("MORE_THAN_SIX_SEAT"===t[r]&&Number(e.vehicleData.seatCapacity)>6)return!0}return!1}(e,t.selectedSeatCapacity)&&function(e,t){return!t.length||t.includes(e.supplierData.supplierId)}(e,t.selectedSuppliers)&&function(e,t){return!t.length||t.includes(e.vehicleData.transmissionType)}(e,t.selectedTransmissionType)&&(r=e,!(n=t.selectedVehicleTypes).length||n.includes(r.vehicleData.vehicleType));var r,n}))}catch(r){return u.$.captureException(r,{contexts:{metadata:{errorKind:"search_filter_inventories_error"}}}),e}};function g(e,t){var r=e.lowestPrice?e.lowestPrice.currencyValue.amount.toString():"0",n=t.lowestPrice?t.lowestPrice.currencyValue.amount.toString():"0";return parseInt(r,10)-parseInt(n,10)}function f(e,t){var r=e.vehicleData?e.vehicleData.seatCapacity.toString():"0",n=t.vehicleData?t.vehicleData.seatCapacity.toString():"0";return parseInt(r,10)-parseInt(n,10)}function v(e,t){try{switch(t){case"CAPACITY_ASC":return e.sort((function(e,t){return f(e,t)||g(e,t)}));case"CAPACITY_DESC":return e.sort((function(e,t){return function(e,t){var r=e.vehicleData?e.vehicleData.seatCapacity.toString():"0",n=t.vehicleData?t.vehicleData.seatCapacity.toString():"0";return parseInt(n,10)-parseInt(r,10)}(e,t)||g(e,t)}));case"PRICE_DESC":return e.sort((function(e,t){return function(e,t){var r=e.lowestPrice?e.lowestPrice.currencyValue.amount.toString():"0",n=t.lowestPrice?t.lowestPrice.currencyValue.amount.toString():"0";return parseInt(n,10)-parseInt(r,10)}(e,t)||f(e,t)}));default:return e.sort((function(e,t){return g(e,t)||f(e,t)}))}}catch(r){return u.$.captureException(r,{contexts:{metadata:{errorKind:"search_sort_inventories_error"}}}),e}}function m(e,t){var r,n,i,a,l=(null===(r=e.pricing)||void 0===r?void 0:r.totalSellingPrice.currencyValue.amount)?null===(n=e.pricing)||void 0===n?void 0:n.totalSellingPrice.currencyValue.amount.toString():"0",o=(null===(i=t.pricing)||void 0===i?void 0:i.totalSellingPrice.currencyValue.amount)?null===(a=t.pricing)||void 0===a?void 0:a.totalSellingPrice.currencyValue.amount.toString():"0";return parseInt(l,10)-parseInt(o,10)}function y(e,t){var r=e.vehicleData?e.vehicleData.seatCapacity.toString():"0",n=t.vehicleData?t.vehicleData.seatCapacity.toString():"0";return parseInt(r,10)-parseInt(n,10)}function b(e,t){var r,n,i,a,l=null!==(i=null===(r=e.supplierData.ratingData)||void 0===r?void 0:r.ratingValue)&&void 0!==i?i:"8",o=null!==(a=null===(n=t.supplierData.ratingData)||void 0===n?void 0:n.ratingValue)&&void 0!==a?a:"8";return parseFloat(o)-parseFloat(l)}function T(e,t){var r,n,i=null===(r=e.productHighlight)||void 0===r?void 0:r.sortingPriority,a=null===(n=t.productHighlight)||void 0===n?void 0:n.sortingPriority;return i===a?0:parseInt(i||"99",10)-parseInt(a||"99",10)}function x(e,t){switch(t){case"PRICE_DESC":return e.sort((function(e,t){return T(e,t)||function(e,t){var r,n,i,a,l=(null===(r=e.pricing)||void 0===r?void 0:r.totalSellingPrice.currencyValue.amount)?null===(n=e.pricing)||void 0===n?void 0:n.totalSellingPrice.currencyValue.amount.toString():"0",o=(null===(i=t.pricing)||void 0===i?void 0:i.totalSellingPrice.currencyValue.amount)?null===(a=t.pricing)||void 0===a?void 0:a.totalSellingPrice.currencyValue.amount.toString():"0";return parseInt(o,10)-parseInt(l,10)}(e,t)||b(e,t)||y(e,t)}));case"CAPACITY_ASC":return e.sort((function(e,t){return T(e,t)||y(e,t)||m(e,t)||b(e,t)}));case"CAPACITY_DESC":return e.sort((function(e,t){return T(e,t)||function(e,t){var r=e.vehicleData?e.vehicleData.seatCapacity.toString():"0",n=t.vehicleData?t.vehicleData.seatCapacity.toString():"0";return parseInt(n,10)-parseInt(r,10)}(e,t)||m(e,t)||b(e,t)}));default:return e.sort((function(e,t){return T(e,t)||m(e,t)||b(e,t)||y(e,t)}))}}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchStatus:{status:""},searchId:"",pollingResult:null,inventories:[],routeResult:null,featureData:null,progressBar:0,filters:{vehicleTypes:[],price:{min:0,max:0},suppliers:[]},customFilters:{selectedTransmissionType:[],selectedSeatCapacity:[],selectedFilterTag:{filterType:null,filterTags:[]},selectedVehicleTypes:[],selectedPrice:{min:0,max:0},selectedSuppliers:[]},sortType:"PRICE_ASC",selectedVehicleId:null,searchResultTime:{searchVehicleResultLoadStartTimestamp:null,searchVehicleResultLoadEndTimestamp:null},frontendTrackingMap:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_STATE":return{searchStatus:{status:""},searchId:"",pollingResult:null,inventories:[],routeResult:null,featureData:null,progressBar:0,filters:{vehicleTypes:[],price:{min:0,max:0},suppliers:[]},customFilters:{selectedTransmissionType:[],selectedSeatCapacity:[],selectedFilterTag:{filterType:null,filterTags:[]},selectedVehicleTypes:[],selectedPrice:{min:0,max:0},selectedSuppliers:[]},sortType:"PRICE_ASC",selectedVehicleId:null,searchResultTime:{searchVehicleResultLoadStartTimestamp:null,searchVehicleResultLoadEndTimestamp:null},frontendTrackingMap:{}};case"SET_SEARCH_ID":return Z({},e,{searchId:t.payload});case"SET_POLLING_RESULT":var r,n,i=e.progressBar;return(null===(r=t.payload)||void 0===r?void 0:r.completed)||90===i?(null===(n=t.payload)||void 0===n?void 0:n.completed)&&(i=100):i+=10,Z({},e,{pollingResult:t.payload,progressBar:i});case"SET_STATUS":return Z({},e,{searchStatus:t.payload});case"SET_FILTER_BANNER":return Z({},e,{featureData:{filterBanners:t.payload}});case"SET_ROUTE_RESULT":return Z({},e,{routeResult:t.payload});case"RECEIVE_INVENTORIES":var a,l=e.inventories.concat(t.payload),o=0,c=[],s=[],u=!0,d=!1,p=void 0;try{for(var h,g=function(e,t){var r,n,i,l,u,d=t.value;Number(null===(r=d.pricing)||void 0===r?void 0:r.sellingPrice.currencyValue.amount)>o&&(o=Number(null===(n=d.pricing)||void 0===n?void 0:n.sellingPrice.currencyValue.amount));a?Number(null===(i=d.pricing)||void 0===i?void 0:i.sellingPrice.currencyValue.amount)<a&&(a=Number(null===(l=d.pricing)||void 0===l?void 0:l.sellingPrice.currencyValue.amount)):a=Number(null===(u=d.pricing)||void 0===u?void 0:u.sellingPrice.currencyValue.amount);!s.some((function(e){return e.supplierId===d.supplierData.supplierId}))&&d.availabilityData.availableToBook&&(s=s.concat(d.supplierData)),c.some((function(e){return e===d.vehicleData.vehicleType}))||(c=c.concat(d.vehicleData.vehicleType))},f=l[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)g(f,h)}catch(v){d=!0,p=v}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}return Z({},e,{inventories:l,filters:{price:{min:a||0,max:o},vehicleTypes:c,suppliers:s},customFilters:Z({},e.customFilters,{selectedPrice:{min:a||0,max:o}})});case"SET_SORT":return Z({},e,{sortType:t.payload});case"SET_CUSTOM_FILTERS":return Z({},e,{customFilters:Z({},e.customFilters,t.payload)});case"SELECT_VEHICLE":return Z({},e,{selectedVehicleId:t.payload});case"SET_SEARCH_RESULT_TIME":return Z({},e,{searchResultTime:Z({},e.searchResultTime,t.payload)});default:return e}}var I=(0,i.createContext)({searchStatus:{status:""},searchId:"",pollingResult:null,inventories:[],routeResult:null,featureData:null,progressBar:0,filters:{vehicleTypes:[],price:{min:0,max:0},suppliers:[]},customFilters:{selectedTransmissionType:[],selectedSeatCapacity:[],selectedFilterTag:{filterType:null,filterTags:[]},selectedVehicleTypes:[],selectedPrice:{min:0,max:0},selectedSuppliers:[]},sortType:"PRICE_ASC",selectedVehicleId:null,searchResultTime:{searchVehicleResultLoadStartTimestamp:null,searchVehicleResultLoadEndTimestamp:null},frontendTrackingMap:{}});I.displayName="RentalSearchResultContextState";var C=(0,i.createContext)((function(){return 0}));function E(){return(0,i.useContext)(I)}function R(){return[E(),(0,i.useContext)(C)]}C.displayName="RentalSearchResultContextAction";var _=r(85279),P=r(47284),w=r(7495),D=r(22076),L=r(85656),O=r(17645),A=r(56273),k=r(84985);var N=function(e){if(!e)return null;var t=e.delayPollingMillis,r=e.maxPollingCount,n=e.offset,i=e.pollingId,a=e.startTimeMillis;return{pollingId:i,offset:n?parseInt(n,10):0,startTimeMillis:parseInt(a,10),delayPollingMillis:t?parseInt(t,10):1e3,maxPollingCount:r?parseInt(r,10):10}},V=r(10742),U=r(67582),M=r(37032),H=r.n(M),F=r(86349),B=r.n(F);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e){try{var t=[];return e.forEach((function(e){var r=t.findIndex((function(t){return t.vehicleData.vehicleId===e.vehicleData.vehicleId})),n=e.availabilityData.availableToBook;if(-1!==r){var i,a,l,o,c,s,u,d,p,h,g,f,v=t[r],m=v.lowestPrice,y=v.lowestPublishPrice;if(e.pricing&&null!==v.lowestPrice){if(Number(null===(g=e.pricing)||void 0===g?void 0:g.sellingPrice.currencyValue.amount)<Number(v.lowestPrice.currencyValue.amount))m=null===(f=e.pricing)||void 0===f?void 0:f.sellingPrice,y=e.pricing.publishPrice}else if(e.pricing&&null===v.lowestPrice){var b;m=null===(b=e.pricing)||void 0===b?void 0:b.sellingPrice,y=e.pricing.publishPrice}var T,x=v.highestPrice;if(e.pricing&&v.highestPrice&&Number(null===(i=e.pricing)||void 0===i?void 0:i.sellingPrice.currencyValue.amount)<Number(v.highestPrice.currencyValue.amount))x=null===(T=e.pricing)||void 0===T?void 0:T.sellingPrice;var S=v.highestSortingPriority;(null===(a=e.productHighlight)||void 0===a?void 0:a.sortingPriority)&&S&&Number(null===(l=e.productHighlight)||void 0===l?void 0:l.sortingPriority)<S&&(S=Number(e.productHighlight.sortingPriority));var Z,j,I,C=v.highlightedCampaign;if((null===(o=e.productHighlight)||void 0===o?void 0:o.highlightedCampaign)&&e.availabilityData.availableToBook)(Number(e.productHighlight.highlightedCampaign.priority||99)<Number((null===(Z=v.highlightedCampaign)||void 0===Z?void 0:Z.priority)||99)||Number(e.productHighlight.highlightedCampaign.priority||99)===Number((null===(j=v.highlightedCampaign)||void 0===j?void 0:j.priority)||99)&&Number(e.productHighlight.sortingPriority||99)<Number(v.highestSortingPriority||99))&&(C=e.productHighlight.highlightedCampaign);var E,R,_,P,w,D=W(null!==(I=v.promoLabels)&&void 0!==I?I:[]);if((null===(c=e.productHighlight)||void 0===c||null===(s=c.promoLabels)||void 0===s?void 0:s.length)&&e.availabilityData.availableToBook){var L,O=[];null===(L=e.productHighlight)||void 0===L||L.promoLabels.forEach((function(e){D.some((function(t){return t.id===e.id}))||O.push(e)})),D=W(D).concat(W(O.slice(0,3)))}t[r]={productData:v.productData,vehicleData:v.vehicleData,totalSupplier:n?v.totalSupplier+1:v.totalSupplier,availableToBook:v.availableToBook||e.availabilityData.availableToBook,lowestPublishPrice:y,lowestPrice:m,highestPrice:x,highestSortingPriority:S,highlightedCampaign:C,filterTags:B()(H()(v.filterTags),H()(null!==(E=null===(u=e.productHighlight)||void 0===u?void 0:u.filterTags)&&void 0!==E?E:[])),suppliers:v.suppliers.concat(e.supplierData),chargingUnit:"undefined"===typeof v.chargingUnit?(null===(d=e.pricing)||void 0===d?void 0:d.chargingUnit)||void 0:v.chargingUnit,promoLabels:D.sort((function(t,r){var n,i,a;return X(t,r)||$((null===(n=e.productHighlight)||void 0===n?void 0:n.sortingPriority)?Number(null!==(a=null===(i=e.productHighlight)||void 0===i?void 0:i.sortingPriority)&&void 0!==a?a:99):99,v.highestSortingPriority||99)})),productType:v.productType,driverless:v.driverless,appliedCampaign:W(null!==(R=v.appliedCampaign)&&void 0!==R?R:[]).concat(W(null!==(_=null===(p=e.productHighlight)||void 0===p?void 0:p.appliedCampaign)&&void 0!==_?_:[])),appliedPromo:W(null!==(P=v.appliedPromo)&&void 0!==P?P:[]).concat(W(null!==(w=null===(h=e.productHighlight)||void 0===h?void 0:h.appliedPromo)&&void 0!==w?w:[])),rawInventories:W(v.rawInventories).concat([e])}}else{var A,k,N,V,U,M,F,G,z,K,Y,q,J,Q,ee,te,re,ne,ie;t.push({availableToBook:e.availabilityData.availableToBook,productData:e.productData,vehicleData:e.vehicleData,totalSupplier:n?1:0,lowestPublishPrice:null!==(J=null===(A=e.pricing)||void 0===A?void 0:A.publishPrice)&&void 0!==J?J:null,lowestPrice:null!==(Q=null===(k=e.pricing)||void 0===k?void 0:k.sellingPrice)&&void 0!==Q?Q:null,highestPrice:null!==(ee=null===(N=e.pricing)||void 0===N?void 0:N.sellingPrice)&&void 0!==ee?ee:null,highestSortingPriority:(null===(V=e.productHighlight)||void 0===V?void 0:V.sortingPriority)?Number(null===(U=e.productHighlight)||void 0===U?void 0:U.sortingPriority):null,highlightedCampaign:null!==(te=null===(M=e.productHighlight)||void 0===M?void 0:M.highlightedCampaign)&&void 0!==te?te:null,filterTags:null!==(re=null===(F=e.productHighlight)||void 0===F?void 0:F.filterTags)&&void 0!==re?re:[],suppliers:[e.supplierData],chargingUnit:null===(G=e.pricing)||void 0===G?void 0:G.chargingUnit,promoLabels:(null===(z=e.productHighlight)||void 0===z?void 0:z.promoLabels)&&e.availabilityData.availableToBook?null===(K=e.productHighlight)||void 0===K?void 0:K.promoLabels.slice(0,3):[],productType:e.productType,driverless:e.driverless,appliedCampaign:null!==(ne=null===(Y=e.productHighlight)||void 0===Y?void 0:Y.appliedCampaign)&&void 0!==ne?ne:[],appliedPromo:null!==(ie=null===(q=e.productHighlight)||void 0===q?void 0:q.appliedPromo)&&void 0!==ie?ie:[],rawInventories:[e]})}})),t}catch(r){return u.$.captureException(r,{contexts:{metadata:{errorKind:"search_format_inventories_error"}}}),[]}},X=function(e,t){return Number(e.priority)-Number(t.priority)},$=function(e,t){return e-t};function K(e,t){var r;return null!==(r=null===e||void 0===e?void 0:e.filter((function(e){var r,n;return!(!t.some((function(t){var r,i;return(null===(r=t.productHighlight)||void 0===r?void 0:r.filterTags)&&t.productHighlight.filterTags.includes(null!==(n=null===(i=e.filterData)||void 0===i?void 0:i.filterTag)&&void 0!==n?n:"")&&t.availabilityData.availableToBook}))||!(null===(r=e.filterData)||void 0===r?void 0:r.filterTag))})))&&void 0!==r?r:[]}var Y=r(41172),q=r(51530),J=r(42788),Q=r(94601);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){te(e,t,r[t])}))}return e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"===typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}function le(){var e,t=(0,L.U8)(),r=(0,k.Z)({path:"/v2/ppr/product/search",method:"post",domain:"rental"}),n=(0,c.hw)(w.G);(0,c.hw)(D.Z);var a=(0,V.QH)(),l=(0,Y.a)(),o=(0,s.Wn)(),u=(0,q.I)().rentalTrack;(0,O.Jd)("vehicle-rental-vehicle-card-strikethrough-price");var d=ne(R(),2),p=d[0],g=d[1],f=p.searchStatus,v=p.inventories,m=p.routeResult,y=p.progressBar,b=p.pollingResult,T=p.selectedVehicleId,x=(0,U.vX)(),S=x.startDate,Z=x.startTime,j=x.endDate,I=x.endTime,C=x.fromLocation,E=x.toLocation,_=x.driverless,P=x.vehicleId;(0,Q.Gx)("CAR_RENTAL");var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c={data:{trackingContext:{visitId:(0,V.AC)(),searchId:null!==i&&void 0!==i?i:null,funnel:"CARS_HOMEPAGE",searchReference:a,utmId:(0,Q.H2)("CAR_RENTAL"),utmEntryTimeMillis:(0,Q.Mm)("CAR_RENTAL")},searchSpec:{startTime:{monthDayYear:S,hourMinute:Z},endTime:{monthDayYear:j,hourMinute:I},startLocation:C,endLocation:E},clientSpec:{currency:t.code,currentLocation:null},productSpec:{transportationType:null,driverless:_,usageType:"DAILY"},pollingSpec:e||void 0}};P&&(c.data.productSpec.prioritisation={vehicleId:P}),r(c).then((function(e){if(e.success){var t=e.result.data,r=t.searchStatus,i=t.inventories,a=t.searchId,s=t.pollingResult,u=t.routeResult,d=t.featureData,p=t.frontendTrackingMap;if("SUCCESS"!==r.status&&0===n)return void(0,A.Z)((function(){g({type:"SET_STATUS",payload:r}),g({type:"SET_POLLING_RESULT",payload:{pollingId:"",completed:!0}})}));(0,A.Z)((function(){g({type:"SET_STATUS",payload:r}),g({type:"SET_SEARCH_ID",payload:a}),g({type:"SET_POLLING_RESULT",payload:s}),g({type:"RECEIVE_INVENTORIES",payload:i});var e=!(null===s||void 0===s?void 0:s.completed);if(0===n){if(g({type:"SET_ROUTE_RESULT",payload:u}),(0,V.nS)(a),(null===d||void 0===d?void 0:d.filterBanners)&&d.filterBanners.length){var t=d.filterBanners.filter((function(e){return"FILTER_TAG"===e.filterType})),h=[];t.forEach((function(e){h.length&&h.some((function(t){var r,n;return(null===(r=t.filterData)||void 0===r?void 0:r.filterTag)===(null===(n=e.filterData)||void 0===n?void 0:n.filterTag)}))||h.push(e)})),g({type:"SET_FILTER_BANNER",payload:h})}o("GOOGLE_REMARKETING_SEM","car_searched",{web_event:"car_searched"}),o("GOOGLE_CONVERSION_SEM","car_searched",{version:"1.0"}),l("car_searched",S,Z,j,I,C,{transportation_type:"CAR",status:r.status,driver_type:_?"WITHOUT_DRIVER":"WITH_DRIVER"})}if(e&&["POLLING","SUCCESS"].includes(r.status))if(n<=N(s).maxPollingCount)setTimeout((function(){M(s,n+1,a)}),N(s).delayPollingMillis);else{g({type:"SET_STATUS",payload:{status:"FAILED_EXCEED_MAX_POLLING"}}),g({type:"SET_POLLING_RESULT",payload:re({},s,{completed:!0})}),g({type:"SET_SEARCH_RESULT_TIME",payload:{searchVehicleResultLoadEndTimestamp:(new Date).getTime()}})}else g({type:"SET_STATUS",payload:r}),g({type:"SET_POLLING_RESULT",payload:re({},s,{completed:!0})}),g({type:"SET_SEARCH_RESULT_TIME",payload:{searchVehicleResultLoadEndTimestamp:(new Date).getTime()}});"SUCCESS"===r.status&&(null===s||void 0===s?void 0:s.completed)&&(g({type:"SET_SEARCH_RESULT_TIME",payload:{searchVehicleResultLoadEndTimestamp:(new Date).getTime()}}),p&&((0,Q.Ig)(p.utmId,c.data.trackingContext.utmId,"CAR_RENTAL"),(0,Q.UJ)(p.utmEntryTimeMillis,c.data.trackingContext.utmEntryTimeMillis,"CAR_RENTAL")))}))}else l("car_searched",S,Z,j,I,C,{transportation_type:"CAR",status:"UNAVAILABLE",driver_type:_?"WITHOUT_DRIVER":"WITH_DRIVER"}),g({type:"SET_STATUS",payload:{status:"FAILED_UNKNOWN"}})})).catch((function(){g({type:"SET_STATUS",payload:{status:"FAILED_UNKNOWN"}}),g({type:"SET_SEARCH_RESULT_TIME",payload:{searchVehicleResultLoadEndTimestamp:(new Date).getTime()}})}))};(0,i.useEffect)((function(){(0,V.AC)()||(0,V.ku)(),(0,J.fj)()?(0,J.Zw)():(0,J.oX)(),g({type:"SET_SEARCH_RESULT_TIME",payload:{searchVehicleResultLoadStartTimestamp:(new Date).getTime()}}),M()}),[]);var H,F,B=h(v,p.customFilters),G=z(B),W=!(null===b||void 0===b?void 0:b.completed)&&["","SUCCESS"].includes(f.status),X=""===f.status,$="SUCCESS"===f.status,ee=!X&&!W&&!$,te=Boolean(p.inventories.length&&!G.length&&!W),ae=0===v.length,le=v.every((function(e){return!e.availabilityData.availableToBook})),oe=K(null!==(H=null===(e=p.featureData)||void 0===e?void 0:e.filterBanners)&&void 0!==H?H:[],p.inventories).slice(0,8),ce=!ee&&!!oe.length&&oe.some((function(e){return"FILTER_TAG"===e.filterType}))&&oe.some((function(e){return p.inventories.some((function(t){var r,n,i;return null===(r=t.productHighlight)||void 0===r||null===(n=r.filterTags)||void 0===n?void 0:n.includes(null!==(F=null===(i=e.filterData)||void 0===i?void 0:i.filterTag)&&void 0!==F?F:"")}))})),se=p.customFilters.selectedFilterTag,ue="",de="",pe=se.filterTags.length?se.filterTags.slice(-1)[0]:null;if(pe){var he,ge,fe=oe.find((function(e){var t;return(null===(t=e.filterData)||void 0===t?void 0:t.filterTag)===pe}));ue=null!==(he=null===fe||void 0===fe?void 0:fe.filterDisplay.description)&&void 0!==he?he:"",de=null!==(ge=null===fe||void 0===fe?void 0:fe.filterDisplay.webViewUrl)&&void 0!==ge?ge:""}return{searchStatus:f,routeResult:m,selectedVehicleId:T,isFirstTimeLoading:X,isSuccess:$,isError:ee,isPolling:W,isFilteredProductsEmpty:te,isNoAvailableInventories:le,isEmptyInventories:ae,filteredGroupInventories:G,showFilterBanners:ce,availableFilterBanners:oe,selectedFilterTag:se,handleSelectFilterTag:function(e){try{var t,r;u({eventTrackingName:"CHANGE_FILTER",eventTrigger:"VEHICLE_SEARCH_RESULT",driverType:_?"WITHOUT_DRIVER":"WITH_DRIVER",oldCampaigns:oe.filter((function(e){var r;return se.filterTags.includes(null!==(t=null===(r=e.filterData)||void 0===r?void 0:r.filterTag)&&void 0!==t?t:"")})).reduce((function(e,t){return ie(e).concat([t.filterDisplay.title])}),[]).join(";"),newCampaigns:oe.filter((function(t){var n;return e.filterTags.includes(null!==(r=null===(n=t.filterData)||void 0===n?void 0:n.filterTag)&&void 0!==r?r:"")})).reduce((function(e,t){return ie(e).concat([t.filterDisplay.title])}),[]).join(";")})}catch(n){}g({type:"SET_CUSTOM_FILTERS",payload:re({},p.customFilters,{selectedFilterTag:e})})},lastSelectedFilterDescription:ue,lastSelectedFilterWebviewUrl:de,pageLoadingTitle:n.RentalMobile.loading_title,pageLoadingSubtitle:n.RentalMobile.loading_description,handleResetAndFetchProducts:function(){g({type:"RESET_STATE"}),(0,J.fj)()?(0,J.Zw)():(0,J.oX)(),M()},handleResetFilter:function(){return g({type:"SET_CUSTOM_FILTERS",payload:re({},{selectedTransmissionType:[],selectedSeatCapacity:[],selectedFilterTag:{filterType:null,filterTags:[]},selectedVehicleTypes:[],selectedPrice:{min:0,max:0},selectedSuppliers:[]},{selectedPrice:{min:0,max:p.filters.price.max}})})},contentResource:n,progressBar:y}}var oe=r(40925),ce=r(67091),se=r(59446),ue=r.n(se),de=r(5060),pe=r(57611),he=r(83874),ge=r.n(he),fe=r(33180),ve=r.n(fe),me=r(49026),ye=r.n(me),be=r(6764),Te=r.n(be),xe=r(45275),Se=r.n(xe),Ze=r(52346),je=r(93587),Ie=r(5006),Ce=r(41607),Ee=r(9484),Re=r(92429);function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Pe(e,t,r[t])}))}return e}function De(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Oe=(0,pe.q)(a.Z),Ae=(0,pe.q)((function(e){var t=e.direction,r=e.disabled,i=De(e,["direction","disabled"]);return(0,n.jsx)(de.Z,we({},i,{style:[Ue.control,{opacity:"true"===r?.4:1,marginRight:"left"===t?ce.Z.spacing.m:0}],disabled:"true"===r,children:(0,n.jsx)(je.Z,{src:Ve(t,r),width:ce.Z.spacing.m,height:ce.Z.spacing.m})}))}));function ke(e){var t=e.title,r=void 0===t?null:t,l=e.tabs,o=e.defaultActiveTab,c=e.onPressTab,s=void 0===c?function(){return null}:c,u=e.style,d=e.sourceActiveTab,p=(0,Ze.Fg)().color,h=(0,i.useState)(o||[]),g=h[0],f=h[1],v=Le((0,Ee.Z)(),2),m=v[0],y=v[1],b=Le((0,Ee.Z)(),2),T=b[0],x=b[1],S=m.hasFinishedLayout&&T.hasFinishedLayout&&m.width<T.width+ce.Z.spacing.m,Z=(0,i.useRef)([]),j=(0,i.useCallback)((function(e){return function(t){var r=t.nativeEvent.layout.width;Z.current.length>e?Z.current[e]=r:Z.current.push(r)}}),[Z]),I=(0,i.useRef)(0),C=(0,i.useRef)(!0),E=(0,i.useRef)(!1),R=Le((0,pe.q_)((function(){return{leftControlDisabled:"true",rightControlDisabled:"false"}})),2),_=R[0],P=_.leftControlDisabled,w=_.rightControlDisabled,D=R[1],L=Le((0,pe.q_)((function(){return{tx:0}})),2),O=L[0].tx,A=L[1],k=(0,i.useCallback)((function(){if(!C.current){var e=Z.current.reduce((function(e,t,r){return r<I.current-1?e+t+ce.Z.spacing.xs:e}),0);I.current--,A({tx:-e}),E.current&&(E.current=!1,D({rightControlDisabled:"false"})),0!==I.current||C.current||(C.current=!0,D({leftControlDisabled:"true"}))}}),[I,C,E,Z,D,A]),N=(0,i.useCallback)((function(){if(!E.current){var e=T.width+2*ce.Z.spacing.m-m.width,t=Z.current.reduce((function(e,t,r){return I.current>=r?e+t+ce.Z.spacing.xs:e}),0),r=e-t>32?t:e;I.current++,A({tx:-r}),r!==e||E.current||(E.current=!0,D({rightControlDisabled:"true"})),C.current&&(C.current=!1,D({leftControlDisabled:"false"}))}}),[T.width,m.width,I,C,E,Z,D,A]),V=(0,i.useMemo)((function(){return d||g}),[g,d]);return(0,n.jsxs)(a.Z,{style:[Ue.wrapper,u],children:[r?(0,n.jsxs)(a.Z,{style:Ue.title,children:[(0,n.jsx)(je.Z,{src:Se(),width:ce.Z.spacing.l,height:ce.Z.spacing.l}),(0,n.jsx)(Ie.Z,{variant:"title-3",style:[Ue.titleText,{color:p.darkNeutral}],children:r})]}):(0,n.jsx)(Ae,{direction:"left",disabled:P,onPress:k}),(0,n.jsxs)(a.Z,we({style:Ue.scrollable},y,{children:[S&&(0,n.jsx)(a.Z,{pointerEvents:"none",style:[Ue.window,Ue.leftWindow,{backgroundImage:"linear-gradient(to right, ".concat(p.lightNeutral," 5%, rgba(247, 249, 250, 0) 22%)")}]}),(0,n.jsx)(Oe,we({style:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",transform:O.interpolate((function(e){return[{translateX:"".concat(e,"px")}]}))}},x,{children:l.map((function(e,t){return(0,n.jsx)(Ne,{label:e.quickFilterCopy,active:V.includes(e.id),style:t>0&&Ue.pillSpacer,onPress:function(){var t=ue()(g,[e.id]);f(t),s(e)},onLayout:j(t),iconUrl:V.includes(e.id)&&e.activeIconUrl?e.activeIconUrl:e.iconUrl},e.id)}))})),S&&(0,n.jsx)(a.Z,{pointerEvents:"none",style:[Ue.window,Ue.rightWindow,{backgroundImage:"linear-gradient(to left, ".concat(p.lightNeutral," 5%, rgba(247, 249, 250, 0) 22%)")}]})]})),(0,n.jsx)(a.Z,{style:[Ue.scrollControl,{width:r?4*ce.Z.spacing.m:2*ce.Z.spacing.m}],children:S&&(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsx)(Ae,{direction:"left",disabled:P,onPress:k}),(0,n.jsx)(Ae,{direction:"right",disabled:w,onPress:N})]})})]})}function Ne(e){var t=e.label,r=e.style,i=e.active,a=void 0!==i&&i,l=e.disabled,o=void 0!==l&&l,c=e.iconUrl,s=De(e,["label","style","active","disabled","iconUrl"]),u=(0,Ze.Fg)().color;return(0,n.jsx)(de.Z,we({style:[Ue.pill,r,{backgroundColor:a?u.tintPrimary:u.lightPrimary}],disabled:o},s,{children:(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[!!c&&(0,n.jsx)(Ce.Z,{src:c,height:16,width:16,style:[a&&{filter:"brightness(0) invert(1)"}]}),(0,n.jsx)(Ie.Z,{variant:"ui-small",style:[Ue.pillText,{color:a?u.lightPrimary:u.tintPrimary}],children:t})]})}))}function Ve(e,t){return"left"===e?"true"===t?ve():ge():"true"===t?Te():ye()}var Ue=l.Z.create({wrapper:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",paddingHorizontal:ce.Z.spacing.m,paddingVertical:ce.Z.spacing.s},title:{flexDirection:"row",flexWrap:"wrap",alignItems:"center"},titleText:{marginLeft:ce.Z.spacing.s},scrollable:{flex:1,flexDirection:"row",flexWrap:"wrap",alignItems:"center",paddingHorizontal:ce.Z.spacing.m,overflow:"hidden"},window:{position:"absolute",width:74,height:"calc(100% + 4px)",zIndex:10,top:-2,bottom:-2},leftWindow:{left:-2},rightWindow:{right:-2},pill:{paddingHorizontal:ce.Z.spacing.s,paddingVertical:ce.Z.spacing.xs,borderRadius:ce.Z.border.radius.rounded},pillText:we({},ce.Z.typography.weightMedium),pillSpacer:{marginLeft:ce.Z.spacing.xs},scrollControl:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",paddingLeft:ce.Z.spacing.m},control:{transitionDuration:"0.25s",transitionTimingFunction:"ease",transitionProperty:"opacity"}}),Me=r(31594),He=r(42163),Fe=r(64284);function Be(){var e=(0,c.hw)(w.G),t=E(),r=t.pollingResult,n=t.sortType,i=t.customFilters,a=t.filters,l=t.searchStatus,o=i.selectedTransmissionType,s=i.selectedSeatCapacity,u=i.selectedFilterTag,d=i.selectedVehicleTypes,p=i.selectedPrice,h=i.selectedSuppliers;return{sortDisabled:!(null===r||void 0===r?void 0:r.completed)||"SUCCESS"!==l.status,filterDisabled:!(null===r||void 0===r?void 0:r.completed)||"SUCCESS"!==l.status,sortActive:"PRICE_ASC"!==n,filterActive:Boolean(o.length||0!==s.length||u.filterTags.length||d.length||d.length||h.length||p.min!==a.price.min||p.max!==a.price.max),sortLabel:e.RentalMobile.searchResult_sort,filterLabel:e.RentalMobile.searchResult_filter}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ze=["PRICE_ASC","PRICE_DESC","CAPACITY_ASC","CAPACITY_DESC"];function Xe(){var e=Be(),t=e.sortActive,r=e.sortDisabled,i=e.sortLabel,a=function(e){var t=We(R(),2),r=t[0],n=t[1],i=r.sortType,a=(0,c.hw)(w.G),l=(0,q.I)().rentalTrack,o=(0,U.vX)().driverless,s=ze.map((function(e){var t="searchResult_sort_".concat(e);return{label:a.RentalMobile[t],value:e}}));return{sortTitle:a.RentalMobile.searchResult_sort,doneButtonLabel:a.RentalMobile.searchResult_sort_done,sortType:i,sortOptions:s,handleSortChange:function(t){try{var r,a,c,d;l({eventTrackingName:"CHANGE_SORT",eventTrigger:"VEHICLE_SEARCH_RESULT",driverType:o?"WITHOUT_DRIVER":"WITH_DRIVER",oldSortValue:null!==(c=null===(r=s.find((function(e){return e.value===i})))||void 0===r?void 0:r.label)&&void 0!==c?c:"",newSortValue:null!==(d=null===(a=s.find((function(e){return e.value===t})))||void 0===a?void 0:a.label)&&void 0!==d?d:""})}catch(p){u.$.captureException(p,{contexts:{metadata:{errorKind:"search_select_filter_sort_tracking_error"}}})}n({type:"SET_SORT",payload:t}),e.onClose()}}}({isVisible:!0,onClose:function(){return null}}),l=a.sortTitle,o=a.sortOptions,s=a.sortType,d=a.handleSortChange;return(0,n.jsx)(Fe.Z,{cardTitle:l,label:i,selected:t&&!r,position:"right",disabled:r,width:320,children:(0,n.jsx)(He.Z,{options:o,onChange:function(e){return d(e)},value:s})})}var $e=r(9959),Ke=r(24587),Ye=r(14658),qe=r(55721),Je=r(10192);function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){et(e,t,r[t])}))}return e}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||it(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||it(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){if(e){if("string"===typeof e)return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qe(e,t):void 0}}function at(e){var t,r=e.showFilter,n=e.onClose,a=(0,c.hw)(w.G),l=(0,U.vX)().driverless,o=rt(R(),2),s=o[0],d=o[1],p=(0,L.U8)(),h=(0,q.I)().rentalTrack,g="desktop"===(0,qe.qr)(),f=(0,i.useState)({selectedTransmissionType:[],selectedSeatCapacity:[],selectedFilterTag:{filterType:null,filterTags:[]},selectedVehicleTypes:[],selectedPrice:{min:0,max:0},selectedSuppliers:[]}),v=f[0],m=f[1];(0,i.useEffect)((function(){m(s.customFilters)}),[r]),(0,i.useEffect)((function(){g&&m(s.customFilters)}),[s.customFilters]);var y,b=l?[{value:"AUTOMATIC",label:a.RentalMobile.transmissionAutomatic,selected:v.selectedTransmissionType.includes("AUTOMATIC"),handlePress:function(){return T("AUTOMATIC")}},{value:"MANUAL",label:a.RentalMobile.transmissionManual,selected:v.selectedTransmissionType.includes("MANUAL"),handlePress:function(){return T("MANUAL")}}]:[],T=function(e){var t=tt({},v,{selectedTransmissionType:v.selectedTransmissionType.includes(e)?v.selectedTransmissionType.filter((function(t){return t!==e})):nt(v.selectedTransmissionType).concat([e])});g&&d({type:"SET_CUSTOM_FILTERS",payload:t}),m(t)},x=[{value:"FOUR_SEAT",label:"4",selected:v.selectedSeatCapacity.includes("FOUR_SEAT"),handlePress:function(){return S("FOUR_SEAT")}},{value:"FIVE_TO_SIX_SEAT",label:"5 - 6",selected:v.selectedSeatCapacity.includes("FIVE_TO_SIX_SEAT"),handlePress:function(){return S("FIVE_TO_SIX_SEAT")}},{value:"MORE_THAN_SIX_SEAT",label:"> 6",selected:v.selectedSeatCapacity.includes("MORE_THAN_SIX_SEAT"),handlePress:function(){return S("MORE_THAN_SIX_SEAT")}}],S=function(e){var t=tt({},v,{selectedSeatCapacity:v.selectedSeatCapacity.includes(e)?v.selectedSeatCapacity.filter((function(t){return t!==e})):nt(v.selectedSeatCapacity).concat([e])});g&&d({type:"SET_CUSTOM_FILTERS",payload:t}),m(t)},Z=s.filters.vehicleTypes.sort().map((function(e){return{value:e,checked:v.selectedVehicleTypes.includes(e),handlePress:function(){return j(e)}}})),j=function(e){var t=tt({},v,{selectedVehicleTypes:v.selectedVehicleTypes.includes(e)?v.selectedVehicleTypes.filter((function(t){return e!==t})):v.selectedVehicleTypes.concat(e)});g&&d({type:"SET_CUSTOM_FILTERS",payload:t}),m(t)},I=function(e){var t=[],r=[];e.forEach((function(e){e.ratingData&&e.ratingData.ratingValue?t.push(e):r.push(e)}));var n=t.sort((function(e,t){return parseFloat(t.ratingData.ratingValue)-parseFloat(e.ratingData.ratingValue)||lt(e,t)})),i=r.sort(lt);return nt(n).concat(nt(i))}(s.filters.suppliers).map((function(e){return{value:e.supplierId,supplierName:e.supplierName,ratingData:e.ratingData,checked:v.selectedSuppliers.includes(e.supplierId),handlePress:function(){return C(e.supplierId)}}})),C=function(e){var t=tt({},v,{selectedSuppliers:v.selectedSuppliers.includes(e)?v.selectedSuppliers.filter((function(t){return t!==e})):v.selectedSuppliers.concat(e)});g&&d({type:"SET_CUSTOM_FILTERS",payload:t}),m(t)},E=s.filters.price.min,_=s.filters.price.max,P=v.selectedPrice.min,D=v.selectedPrice.max,O="IDR"===p.code?1e4:10,A=v.selectedFilterTag,k=K(null!==(y=null===(t=s.featureData)||void 0===t?void 0:t.filterBanners)&&void 0!==y?y:[],s.inventories).slice(0,8);return{transmissionTypesOptions:b,seatCapacityOptions:x,vehicleTypeOptions:Z,supplierOptions:I,filterLabel:a.RentalMobile.searchResult_filter,resetLabel:a.RentalMobile.reset,campaignAndPromoLabel:a.RentalMobile.searchResult_filter_campaignAndPromo,featuredCarLabel:a.RentalMobile.searchResult_filter_featuredCar,transmissionLabel:a.RentalMobile.searchResult_filter_transmission,seatCapacityLabel:a.RentalMobile.searchResult_filter_seatCapacity,priceRangeLabel:a.RentalMobile.searchResult_filter_price,vehicleTypeLabel:a.RentalMobile.searchResult_filter_carType,supplierLabel:a.RentalMobile.searchResult_filter_supplier,ctaLabel:a.RentalMobile.searchResult_filter_done,noRatingLabel:a.RentalMobile.noRating,selectedFilterTag:A,availableFilterBanners:k,handleChangeFilterTag:function(e){m((function(t){return tt({},t,{selectedFilterTag:e})}))},priceSliderStep:O,priceLabelFormatter:function(e){return(0,Je.Q)({currencyValue:{currency:p.code,amount:e},numOfDecimalPoint:p.numOfDecimalPoint})},minPrice:E,maxPrice:_,minPriceFilter:P,maxPriceFilter:D,handleChangePriceSlider:function(e){g&&d({type:"SET_CUSTOM_FILTERS",payload:tt({},v,{selectedPrice:{min:e[0],max:e[1]}})}),m((function(t){return tt({},t,{selectedPrice:{min:e[0],max:e[1]}})}))},handleResetFilters:function(){return m(tt({},{selectedTransmissionType:[],selectedSeatCapacity:[],selectedFilterTag:{filterType:null,filterTags:[]},selectedVehicleTypes:[],selectedPrice:{min:0,max:0},selectedSuppliers:[]},{selectedPrice:{min:s.filters.price.min,max:s.filters.price.max}}))},handleSaveFilters:function(){try{var e,t,r,i,a,o,c,p,g=s.customFilters.selectedSeatCapacity.reduce((function(e,t){var n;return nt(e).concat([null!==(r=null===(n=x.find((function(e){return e.value===t})))||void 0===n?void 0:n.label)&&void 0!==r?r:""])}),[]).join(";"),f=v.selectedSeatCapacity.reduce((function(e,t){var r;return nt(e).concat([null!==(i=null===(r=x.find((function(e){return e.value===t})))||void 0===r?void 0:r.label)&&void 0!==i?i:""])}),[]).join(";");h({eventTrackingName:"CHANGE_SORT",eventTrigger:"VEHICLE_SEARCH_RESULT",driverType:l?"WITHOUT_DRIVER":"WITH_DRIVER",oldSeatCapacities:g,newSeatCapacities:f,oldCarTypes:Z.filter((function(e){return s.customFilters.selectedVehicleTypes.includes(e.value)})).reduce((function(e,t){return nt(e).concat([t.value])}),[]).join(";"),newCarTypes:Z.filter((function(e){return v.selectedVehicleTypes.includes(e.value)})).reduce((function(e,t){return nt(e).concat([t.value])}),[]).join(";"),oldTransmission:null!==(a=null===(e=b.find((function(e){return s.customFilters.selectedTransmissionType.includes(e.value)})))||void 0===e?void 0:e.label)&&void 0!==a?a:"",newTransmission:null!==(o=null===(t=b.find((function(e){return v.selectedTransmissionType.includes(e.value)})))||void 0===t?void 0:t.label)&&void 0!==o?o:"",oldCampaigns:k.filter((function(e){var t;return s.customFilters.selectedFilterTag.filterTags.includes(null!==(c=null===(t=e.filterData)||void 0===t?void 0:t.filterTag)&&void 0!==c?c:"")})).reduce((function(e,t){return nt(e).concat([t.filterDisplay.title])}),[]).join(";"),newCampaigns:k.filter((function(e){var t;return A.filterTags.includes(null!==(p=null===(t=e.filterData)||void 0===t?void 0:t.filterTag)&&void 0!==p?p:"")})).reduce((function(e,t){return nt(e).concat([t.filterDisplay.title])}),[]).join(";")})}catch(m){u.$.captureException(m,{contexts:{metadata:{errorKind:"search_select_filter_sort_tracking_error"}}})}d({type:"SET_CUSTOM_FILTERS",payload:v}),n()}}}function lt(e,t){return e.supplierName<t.supplierName?-1:e.supplierName>t.supplierName?1:0}var ot=r(51080);function ct(){var e=Be().filterDisabled,t=at({showFilter:!0,onClose:function(){return null}}),r=t.transmissionTypesOptions,i=t.seatCapacityOptions,l=t.vehicleTypeOptions,o=t.supplierOptions,c=t.noRatingLabel,s=t.filterLabel,u=t.vehicleTypeLabel,d=t.seatCapacityLabel,p=t.transmissionLabel,h=t.supplierLabel;return(0,n.jsxs)(Re.Z,{spacing:"s",children:[(0,n.jsxs)(Ie.Z,{variant:"title-3",children:[s,":"]}),i.length>0&&(0,n.jsx)(Fe.Z,{cardTitle:d,label:d,selected:i.some((function(e){return e.selected})),position:"left",disabled:e,children:(0,n.jsx)(ot.ZP,{padding:{horizontal:"m",vertical:"s"},children:i.map((function(e){return(0,n.jsx)(ot.ZP,{padding:{bottom:"xxs"},children:(0,n.jsx)(Ye.Z,{label:e.label,checked:e.selected,onChange:e.handlePress})},e.value)}))})}),r.length>0&&(0,n.jsx)(Fe.Z,{cardTitle:p,label:p,selected:r.some((function(e){return e.selected})),position:"left",disabled:e,children:(0,n.jsx)(ot.ZP,{padding:{horizontal:"m",vertical:"s"},children:r.map((function(e){return(0,n.jsx)(ot.ZP,{padding:{bottom:"xxs"},children:(0,n.jsx)(Ye.Z,{label:e.label,checked:e.selected,onChange:e.handlePress})},e.value)}))})}),l.length>0&&(0,n.jsx)(Fe.Z,{cardTitle:u,label:u,selected:l.some((function(e){return e.checked})),position:"left",disabled:e,children:(0,n.jsx)(ot.ZP,{padding:{horizontal:"m",vertical:"s"},children:l.map((function(e){return(0,n.jsx)(ot.ZP,{padding:{bottom:"xxs"},children:(0,n.jsx)(Ye.Z,{label:e.value,checked:e.checked,onChange:e.handlePress})},e.value)}))})}),o.length>0&&(0,n.jsx)(Fe.Z,{cardTitle:h,label:h,selected:o.some((function(e){return e.checked})),position:"left",width:340,disabled:e,children:(0,n.jsx)($e.Z,{style:st.filterCard,children:(0,n.jsx)(ot.ZP,{padding:{horizontal:"m",vertical:"s"},children:o.map((function(e){var t;return(0,n.jsx)(ot.ZP,{padding:{bottom:"xxs"},children:(0,n.jsxs)(Ye.Z,{checked:e.checked,onChange:e.handlePress,children:[(0,n.jsx)(Ye.Z.Control,{}),(0,n.jsxs)(a.Z,{style:st.supplierCheckbox,children:[(0,n.jsxs)(a.Z,{style:{flex:1},children:[(0,n.jsx)(Ie.Z,{variant:"ui-baseline",children:e.supplierName}),(!e.ratingData||!e.ratingData.ratingValue)&&(0,n.jsx)(Ie.Z,{variant:"ui-tiny",ink:"secondary",children:c})]}),Boolean(null===(t=e.ratingData)||void 0===t?void 0:t.ratingValue)&&(0,n.jsx)(a.Z,{children:(0,n.jsxs)(Ie.Z,{variant:"title-3",ink:"primary-interactive",children:[(0,n.jsx)(Ke.Z,{height:14}),Number(e.ratingData.ratingValue).toFixed(1)]})})]})]})},e.value)}))})})})]})}var st=l.Z.create({supplierCheckbox:{justifyContent:"space-between",flexDirection:"row",flex:1,marginLeft:ce.Z.spacing.s},filterCard:{marginTop:ce.Z.spacing.s,maxHeight:280}}),ut=r(42860),dt=r(89182),pt=r(14025),ht=r(47381),gt=r(78215),ft=r(90012);function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(){var e=mt(R(),2),t=e[0],r=e[1],n=t.inventories,a=t.pollingResult,l=t.sortType,o=t.searchResultTime,s=t.searchStatus,d=(0,Je.t)(),p=(0,ht.wY)(),g=(0,c.hw)(w.G),f=(0,q.I)().rentalTrack,m=(0,U.vX)(),y=m.fromLocation,b=m.startDate,T=m.startTime,x=m.endDate,S=m.endTime,Z=m.driverless,j=m.vehicleId,I=h(n,t.customFilters),C=v(z(I),l),E=(0,O.Jd)("vehicle-rental-vehicle-card-strikethrough-price"),_=(0,O.Jd)("vehicle-rental-car-type-card-loading"),P=mt((0,pt.J)("#supplier"),2),D=P[0],L=P[1],A=(0,i.useState)(!1),k=A[0],N=A[1];return(0,i.useEffect)((function(){j&&!k&&n.length&&!t.selectedVehicleId&&(N(!0),n.find((function(e){return e.vehicleData.vehicleId===j}))&&(r({type:"SELECT_VEHICLE",payload:j}),L(!0)))}),[j,n,k,t.selectedVehicleId]),{content:g,formatICU:p,formatCurrency:d,groupedInventories:C.filter((function(e){return e.availableToBook})),isLoading:!(null===_||void 0===_?void 0:_.enabled)&&!(null===a||void 0===a?void 0:a.completed),showStrikethroughPrice:Boolean(E&&E.enabled),showSupplierTray:Boolean(D&&t.selectedVehicleId),handleSelectVehicle:function(e){if(e){r({type:"SELECT_VEHICLE",payload:e.vehicleData.vehicleId}),L(!0);try{var t,n,i=e.vehicleData,a=e.promoLabels,l=e.appliedCampaign,c=e.appliedPromo,d=e.rawInventories,p=i.vehicleBrand,h=i.vehicleModel,g=i.vehicleName,v=i.vehicleType,m=i.transportationType,j=i.transmissionType,I=i.seatCapacity,C=i.baggageCapacity,E={eventTrackingName:"SELECT_VEHICLE",transportationType:m||"CAR",vehicleId:e.vehicleData.vehicleId,vehicleType:v,vehicleBrand:p,vehicleModel:h,vehicleName:g,vehicleNumOfSeats:I,vehicleBaggageCapacity:C,productPrice:null!==(n=null===(t=e.lowestPrice)||void 0===t?void 0:t.currencyValue.amount)&&void 0!==n?n:0,productType:e.productType,driverType:e.driverless?"WITHOUT_DRIVER":"WITH_DRIVER",transmissionType:j,rentalGeoId:y.locationId,rentalGeoType:y.locationType,rentalGeoName:y.name,searchVehicleId:(0,V.zL)()};if(a&&a.length>0){var R,_=[];d.forEach((function(e){var t;(null===(t=e.productHighlight)||void 0===t?void 0:t.promoLabels)&&e.productHighlight.promoLabels.length>0&&e.productHighlight.promoLabels.forEach((function(e){_.some((function(t){return t.id===e.id}))||_.push(e)}))})),E.promoBannerCode=_.map((function(e){var t;return null!==(R=null===(t=null===c||void 0===c?void 0:c.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.code)&&void 0!==R?R:""})).filter((function(e){return e})).join(";")}if(l&&l.length>0){var P,w=[];d.forEach((function(e){var t;(null===(t=e.productHighlight)||void 0===t?void 0:t.campaignLabels)&&e.productHighlight.campaignLabels.length>0&&e.productHighlight.campaignLabels.forEach((function(e){w.some((function(t){return t.id===e.id}))||w.push(e)}))})),E.campaignCode=w.map((function(e){var t;return null!==(P=null===(t=null===l||void 0===l?void 0:l.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.code)&&void 0!==P?P:""})).filter((function(e){return e})).join(";")}f(E)}catch(k){u.$.captureException(k,{contexts:{metadata:{errorKind:"search_select_inventory_tracking_error"}}})}try{var D,O,A={eventTrackingName:"SEARCH_VEHICLE_LOAD_TIME",eventTrigger:"VEHICLE_SEARCH_RESULT",driverType:Z?"WITHOUT_DRIVER":"WITH_DRIVER",pickUpLocationId:y.locationId,pickUpLocation:y.name,pickUpLocationType:y.locationType,pickUpLocationSubType:y.locationSubType,startRentalDate:(0,dt.Z)((0,gt.D1)(b),"yyyy-MM-dd"),pickUpTime:(0,dt.Z)((0,ft.Yp)(T),"HH:mm"),endRentalDate:(0,dt.Z)((0,gt.D1)(x),"yyyy-MM-dd"),dropOffTime:(0,dt.Z)((0,ft.Yp)(S),"HH:mm"),searchVehicleResultLoadStartTimestamp:null!==(D=o.searchVehicleResultLoadStartTimestamp)&&void 0!==D?D:"",userAction:"PROCEED_TO_NEXT_PAGE"+(["FAILED_UNKNOWN","FAILED_EXCEED_MAX_POLLING"].includes(s.status)?" - ERROR_POLLING":""),userActionTimestamp:(new Date).getTime(),searchVehicleId:(0,V.zL)()};if(o.searchVehicleResultLoadEndTimestamp)A.searchVehicleResultLoadEndTimestamp=null!==(O=o.searchVehicleResultLoadEndTimestamp)&&void 0!==O?O:"";f(A)}catch(N){u.$.captureException(N,{contexts:{metadata:{errorKind:"search_select_inventory_time_tracking_error"}}})}}else r({type:"SELECT_VEHICLE",payload:e})},handleCloseSupplierTray:function(){r({type:"SELECT_VEHICLE",payload:null}),L(!1)}}}var bt=r(35053),Tt=r(28192),xt=r(91646),St=r(28377),Zt=r(66370),jt=r.n(Zt),It=r(45895),Ct=Et;function Et(e){var t=e.width,r=e.height,i=e.children,a=e.show,l=e.iconHeight;return a?(0,n.jsx)(It.Z,{style:[Rt.container,{height:r,width:t,minHeight:r}],children:(0,n.jsx)(je.Z,{height:l,src:jt()})}):i}Et.defaultProps={show:!1,height:"100%",width:"100%",iconHeight:18};var Rt=l.Z.create({container:{backgroundColor:ce.Z.color.uiLightNeutral}}),_t=r(61179),Pt=r(30418);function wt(e){var t,r,l=e.productName,o=e.productImageUrl,c=e.driverTypeLabel,s=e.transmissionTypeLabel,u=e.basicRentalLabel,d=e.chargingTypeLabel,p=e.strikeThroughPrice,h=e.sellingPrice,g=e.totalSellingPrice,f=e.providerAvailable,v=e.isLoading,m=e.totalLabel,y=e.continueLabel,b=e.vehicle,T=e.onPress,x=e.badge,S=e.promo,Z=e.promoExtra;return(0,n.jsxs)(oe.Z,{elevation:"raised",style:Dt.container,children:[(null===S||void 0===S?void 0:S.text)&&(0,n.jsxs)(a.Z,{style:Dt.badgeContainer,children:[(0,n.jsx)(a.Z,{style:[Dt.headerBadge,{backgroundColor:(null===S||void 0===S?void 0:S.backgroundColor)||ce.Z.color.uiBluePrimary}],children:(0,n.jsx)(Ie.Z,{variant:"caption-micro",style:{color:(null===S||void 0===S?void 0:S.textColor)||ce.Z.color.uiLightPrimary},numberOfLines:1,children:null===S||void 0===S?void 0:S.text})}),Z&&(0,n.jsx)(a.Z,{style:Dt.headerBadgeExtra,children:(0,n.jsxs)(Ie.Z,{variant:"caption-micro",ink:"primary-interactive",children:["+",Z]})})]}),(0,n.jsxs)(a.Z,{style:{flexDirection:"row",paddingTop:ce.Z.spacing.m,paddingBottom:x&&x.text?ce.Z.spacing.m:0,paddingHorizontal:ce.Z.spacing.m},children:[(0,n.jsx)(a.Z,{style:{width:160,height:120,marginBottom:o?0:ce.Z.spacing.m},children:(0,n.jsx)(Ct,{show:!o,width:164,height:90,children:(0,n.jsx)(Ce.Z,{importance:"low",objectFit:"contain",objectPosition:"50% 50%",width:"90%",height:"120px",src:o||"",variant:"default",imgixQuery:{w:140}})})}),(0,n.jsxs)(a.Z,{style:{flex:3,paddingLeft:ce.Z.spacing.m,marginHorizontal:ce.Z.spacing.m},children:[(0,n.jsxs)(a.Z,{style:{marginBottom:ce.Z.spacing.ml},children:[(0,n.jsx)(Ie.Z,{variant:"title-2",numberOfLines:1,children:l}),Boolean(s)&&(0,n.jsxs)(Re.Z,{spacing:"xs",padding:{top:"s"},children:[(0,n.jsx)(Pt.Z,{width:14,height:14,color:ce.Z.color.uiDarkSecondary}),(0,n.jsx)(Ie.Z,{variant:"caption-tiny",children:s})]}),(0,n.jsxs)(Re.Z,{spacing:"s",children:[(0,n.jsxs)(Re.Z,{spacing:"xs",children:[(0,n.jsx)(St.Z,{color:ce.Z.color.uiBluePrimary,width:16}),(0,n.jsx)(Ie.Z,{variant:"ui-small",children:b.baggageCapacity.toString()})]}),(0,n.jsxs)(Re.Z,{spacing:"xs",children:[(0,n.jsx)(xt.Z,{color:ce.Z.color.uiBluePrimary,width:16}),(0,n.jsx)(Ie.Z,{variant:"ui-small",children:b.seatCapacity.toString()})]})]}),x&&x.text&&(0,n.jsx)(a.Z,{style:[Dt.campaign,{backgroundColor:null!==(t=x.backgroundColor)&&void 0!==t?t:ce.Z.color.uiGreenPrimary}],children:(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[Boolean(x.iconUrl)&&(0,n.jsx)(_t.Z,{imageUrl:x.iconUrl,hideImage:!0,imageHeight:14,height:14}),(0,n.jsx)(Ie.Z,{variant:"title-3",style:{color:null!==(r=x.textColor)&&void 0!==r?r:ce.Z.color.uiLightPrimary,paddingTop:ce.Z.spacing.xxs},numberOfLines:1,children:x.text})]})})]}),(0,n.jsxs)(Re.Z,{spacing:"m",children:[(0,n.jsx)(Ie.Z,{variant:"ui-tiny",children:c}),f&&(0,n.jsx)(Ie.Z,{variant:"ui-tiny",ink:"primary-interactive",children:f})]})]}),(0,n.jsxs)(a.Z,{style:{flex:2,alignItems:"flex-end",top:S?ce.Z.spacing.s:0},children:[(0,n.jsx)(Ie.Z,{variant:"caption-micro",ink:"secondary",children:u}),v?(0,n.jsx)(Tt.Z,{height:24,width:140}):(0,n.jsxs)(i.Fragment,{children:[p&&(0,n.jsx)(Ie.Z,{variant:"ui-tiny",ink:"secondary",style:Dt.strikethroughPrice,children:p}),(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[(0,n.jsx)(Ie.Z,{variant:"title-1",ink:"price",children:h}),(0,n.jsx)(Ie.Z,{variant:"ui-tiny",ink:"secondary",children:d})]})]}),g&&(0,n.jsxs)(Ie.Z,{variant:"ui-tiny",ink:"secondary",style:Dt.totalPrice,children:[g," ",m]}),(0,n.jsx)(a.Z,{style:Dt.button,children:(0,n.jsx)(bt.Z,{text:y,variant:"main-cta",size:"medium",onPress:T})})]})]})]})}var Dt=l.Z.create({container:{marginBottom:ce.Z.spacing.m},totalPrice:{marginTop:ce.Z.spacing.xxs,marginBottom:ce.Z.spacing.m},button:{width:220,marginTop:ce.Z.spacing.m,alignSelf:"flex-end"},strikethroughPrice:{textDecorationLine:"line-through"},campaign:{borderRadius:ce.Z.border.radius.rounded,width:"fit-content",paddingHorizontal:ce.Z.spacing.xs},badgeContainer:{flexDirection:"row",position:"absolute",maxWidth:288,right:0,zIndex:1},headerBadge:{backgroundColor:ce.Z.color.uiBluePrimary,paddingVertical:6,paddingHorizontal:ce.Z.spacing.s,borderBottomLeftRadius:ce.Z.border.radius.normal,marginRight:-ce.Z.spacing.xxs,flex:1},headerBadgeExtra:{backgroundColor:ce.Z.color.uiLightStain,paddingVertical:ce.Z.spacing.xs,paddingHorizontal:ce.Z.spacing.s,borderBottomLeftRadius:ce.Z.border.radius.normal}}),Lt=i.memo(wt);function Ot(){var e,t,r,i,l,o,c,s,u,d=yt(),p=d.content,h=d.formatICU,g=d.formatCurrency,f=d.groupedInventories,v=d.handleSelectVehicle,m=d.showStrikethroughPrice,y=d.isLoading;return(0,n.jsx)(a.Z,{style:At.container,children:(0,n.jsx)(ut.Z,{data:f,keyExtractor:function(e){return"".concat(e.vehicleData.vehicleId)},initialNumToRender:4,maxToRenderPerBatch:4,windowSize:4,renderItem:function(a){var d,f,b,T,x,S,Z,j,I=a.item;return(0,n.jsx)(Lt,{productName:I.vehicleData.vehicleName,productImageUrl:null!==(e=I.productData.imageThumbnailUrl)&&void 0!==e?e:I.productData.productImageUrls[0],driverTypeLabel:I.driverless?p.RENTAL_SEARCH.TXT_withoutDriver:p.RENTAL_SEARCH.TXT_withDriver,transmissionTypeLabel:I.driverless?I.vehicleData.transmissionType:"",chargingTypeLabel:null!==(t=null===(d=I.chargingUnit)||void 0===d?void 0:d.label)&&void 0!==t?t:"",strikeThroughPrice:m&&Number(null===(f=I.lowestPublishPrice)||void 0===f?void 0:f.currencyValue.amount)>Number(null===(b=I.lowestPrice)||void 0===b?void 0:b.currencyValue.amount)?g(I.lowestPublishPrice):"",badge:{text:null!==(r=null===(T=I.highlightedCampaign)||void 0===T?void 0:T.text)&&void 0!==r?r:null,textColor:null!==(i=null===(x=I.highlightedCampaign)||void 0===x?void 0:x.textColor)&&void 0!==i?i:ce.Z.color.uiGreenPrimary,iconUrl:null!==(l=null===(S=I.highlightedCampaign)||void 0===S?void 0:S.iconUrl)&&void 0!==l?l:null,backgroundColor:null!==(o=null===(Z=I.highlightedCampaign)||void 0===Z?void 0:Z.backgroundColor)&&void 0!==o?o:ce.Z.color.uiLightPrimary},sellingPrice:null!==(c=g(I.lowestPrice))&&void 0!==c?c:"-",vehicle:{seatCapacity:h(p.RentalMobile.seats,{value:I.vehicleData.seatCapacity}),baggageCapacity:h(p.RentalMobile.baggages,{value:I.vehicleData.baggageCapacity})},onPress:function(){return v(I)},basicRentalLabel:p.RentalMobile.from,totalLabel:"",continueLabel:p.RentalMobile.continue,providerAvailable:h(p.RentalMobile.searchResult_numOfSupplierAvailable,{numSuppliers:I.totalSupplier.toString()}),isLoading:y,promo:(null===(j=I.promoLabels)||void 0===j?void 0:j.length)?{text:I.promoLabels[0].text,textColor:null!==(s=I.promoLabels[0].textColor)&&void 0!==s?s:ce.Z.color.uiLightPrimary,iconUrl:"",backgroundColor:null!==(u=I.promoLabels[0].backgroundColor)&&void 0!==u?u:ce.Z.color.uiBluePrimary}:void 0,promoExtra:I.promoLabels&&I.promoLabels.length>1?I.promoLabels.length-1:void 0},I.vehicleData.vehicleId)}})})}var At=l.Z.create({container:{paddingTop:ce.Z.spacing.s,paddingBottom:ce.Z.spacing.xxxxl,backgroundColor:ce.Z.color.uiLightStain}}),kt=r(21276),Nt=r(29890),Vt=r(54730),Ut=r(33044);function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ht(e,t,r[t])}))}return e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||Wt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){if(e){if("string"===typeof e)return Mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mt(e,t):void 0}}var zt=r(77057),Xt=r(36790),$t=r(98985),Kt=r(41914),Yt=r(63857);function qt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qt(e,t,r[t])}))}return e}function Qt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var er={xxs:4,xs:8,s:12,m:16,ml:20,l:24,xl:32,xxl:40,xxxl:48,xxxxl:56},tr=l.Z.create({container:{display:"flex"}});function rr(e){var t=e.forwardedRef,r=e.direction,i=void 0===r?"column":r,l=e.mb,o=void 0===l?0:l,c=e.mt,s=void 0===c?0:c,u=e.ml,d=void 0===u?0:u,p=e.mr,h=void 0===p?0:p,g=e.pb,f=void 0===g?0:g,v=e.pt,m=void 0===v?0:v,y=e.pl,b=void 0===y?0:y,T=e.pr,x=void 0===T?0:T,S=e.width,Z=e.height,j=e.margin,I=void 0===j?"unknown":j,C=e.padding,E=void 0===C?"unknown":C,R=e.flexWrap,_=void 0===R?"wrap":R,P=e.justifyContent,w=void 0===P?"flex-start":P,D=e.alignItems,L=void 0===D?"stretch":D,O=e.alignContent,A=void 0===O?"stretch":O,k=e.alignSelf,N=e.flex,V=e.flexBasis,U=e.flexGrow,M=e.flexShrink,H=e.children,F=e.style,B=Qt(e,["forwardedRef","direction","mb","mt","ml","mr","pb","pt","pl","pr","width","height","margin","padding","flexWrap","justifyContent","alignItems","alignContent","alignSelf","flex","flexBasis","flexGrow","flexShrink","children","style"]),G="number"===typeof I?I:er[I],W="number"===typeof E?E:er[E],z="undefined"!==typeof G?{margin:G}:{marginBottom:"number"===typeof o?o:er[o],marginTop:"number"===typeof s?s:er[s],marginLeft:"number"===typeof d?d:er[d],marginRight:"number"===typeof h?h:er[h]},X="undefined"!==typeof W?{padding:W}:{paddingBottom:"number"===typeof f?f:er[f],paddingTop:"number"===typeof m?m:er[m],paddingLeft:"number"===typeof b?b:er[b],paddingRight:"number"===typeof x?x:er[x]},$=[tr.container,Jt({},z,X,{alignContent:A,alignItems:L,alignSelf:k,flex:N,flexBasis:V,flexGrow:U,flexShrink:M,flexWrap:_,height:Z,justifyContent:w,width:S,flexDirection:i}),F];return(0,n.jsx)(a.Z,Jt({ref:t,style:$},B,{children:H}))}var nr=(0,i.forwardRef)((function(e,t){return(0,n.jsx)(rr,Jt({},e,{forwardedRef:t}))})),ir=r(99399),ar=r(801),lr=r(68652);function or(e){var t=e.productImageUrl,r=e.productName,i=e.seatCapacity,l=e.baggageCapacity,o=e.active,c=e.onPress,s=e.width,u=e.price,d=e.chargingUnit,p=e.transmissionType;return(0,n.jsx)(a.Z,{style:[cr.container,{width:s}],children:(0,n.jsx)(de.Z,{onPress:c,children:(0,n.jsx)(oe.Z,{elevation:"raised",style:[o&&cr.activeCard],children:(0,n.jsxs)(Re.Z,{spacing:"xs",children:[(0,n.jsx)(a.Z,{style:cr.imageContainer,children:(0,n.jsx)(Ct,{show:!t,width:80,height:70,children:(0,n.jsx)(Ce.Z,{variant:"default",objectFit:"fill",objectPosition:"50% 50%",importance:"low",src:t||"",imgixQuery:{w:100}})})}),(0,n.jsxs)(a.Z,{style:{flex:1},children:[(0,n.jsx)(Ie.Z,{variant:"title-3",ellipsizeMode:"tail",numberOfLines:2,style:cr.productName,children:r}),u&&(0,n.jsxs)(Ie.Z,{variant:"title-3",ink:"price",style:cr.price,children:[u,(0,n.jsx)(Ie.Z,{variant:"caption-tiny",ink:"secondary",style:cr.chargingUnit,children:d})]}),(0,n.jsxs)(Re.Z,{spacing:"xs",children:[(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[(0,n.jsx)(ir.Z,{width:12}),(0,n.jsx)(Ie.Z,{ink:"secondary",variant:"caption-micro",children:i})]}),(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[(0,n.jsx)(ar.Z,{width:14,accentColor:ce.Z.color.uiDarkSecondary}),(0,n.jsx)(Ie.Z,{ink:"secondary",variant:"caption-micro",children:l})]}),p&&(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[(0,n.jsx)(lr.Z,{width:12}),(0,n.jsx)(Ie.Z,{ink:"secondary",variant:"caption-micro",children:p})]})]})]})]})})})})}var cr=l.Z.create({container:{marginLeft:ce.Z.spacing.xxs,marginRight:ce.Z.spacing.s,marginTop:ce.Z.spacing.xs},activeCard:{borderColor:ce.Z.color.uiBluePrimary,margin:-2,borderWidth:2},productName:{marginTop:ce.Z.spacing.xxs,marginBottom:ce.Z.spacing.xxs,height:32,paddingRight:ce.Z.spacing.m},price:{marginTop:ce.Z.spacing.xxs,textAlign:"left"},chargingUnit:{marginLeft:ce.Z.spacing.xxs},imageContainer:{width:100}}),sr=r(70595),ur=r(77035),dr=r.n(ur),pr=r(14299),hr=r.n(pr);function gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){gr(e,t,r[t])}))}return e}function vr(e){var t=e.promoLabels,r=e.highlightedCampaign,l=e.summary,o=e.summaryTitle,c=e.supplierName,s=e.publishedPriceText,u=e.sellingPriceText,d=e.totalPriceText,p=e.chargingUnitText,h=e.supplierLogoUrl,g=e.stockDisplayText,f=e.availableToBook,v=e.unavailabilityText,m=e.hasRating,y=e.ratingScoreLabel,b=e.ratingCount,T=e.basicRental,x=e.totalLabel,S=e.continueLabel,Z=e.chargingTypeText,j=e.uspList,I=e.onPress,C=!f||g;return(0,n.jsxs)(oe.Z,{style:[mr.container,!f&&mr.disabledContainer],children:[t&&t.length>0&&(0,n.jsx)(Re.Z,{wrap:"wrap",children:t.map((function(e){return(0,n.jsx)(a.Z,{style:[mr.promoLabelItem,{backgroundColor:f?e.backgroundColor||ce.Z.color.uiBluePrimary:ce.Z.color.uiLightSecondary,maxWidth:t.length>2?"30%":"".concat(1===t.length?90:45,"%")}],children:(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[Boolean(e.iconUrl&&f)&&(0,n.jsx)(je.Z,{src:e.iconUrl||"",height:12,width:12}),(0,n.jsx)(Ie.Z,{variant:"title-3",style:{color:f&&e.textColor||ce.Z.color.uiLightPrimary},numberOfLines:1,children:e.text})]})},e.id)}))}),(0,n.jsxs)(a.Z,{style:mr.content,children:[(0,n.jsxs)(a.Z,{style:{flex:3},children:[(0,n.jsxs)(Re.Z,{spacing:"m",children:[(0,n.jsx)(Ie.Z,{variant:"title-2",numberOfLines:1,children:c}),h&&(0,n.jsx)(Ce.Z,{src:h,width:30})]}),(0,n.jsxs)(a.Z,{children:[m&&(0,n.jsx)(i.Fragment,{children:(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[(0,n.jsxs)(Re.Z,{children:[(0,n.jsx)(Ke.Z,{height:20,width:20}),(0,n.jsx)(ot.ZP,{padding:{start:"xxs"},children:(0,n.jsx)(Ie.Z,{variant:"title-3",ink:"primary-interactive",children:y})})]}),Boolean(b)&&(0,n.jsxs)(Ie.Z,{variant:"title-3",ink:"secondary",children:["(",b,")"]})]})}),!m&&(0,n.jsx)(Ie.Z,{variant:"ui-small",ink:"secondary",children:y})]}),(0,n.jsxs)(Re.Z,{justifyContent:"space-between",spacing:"s",padding:{top:"s"},children:[m&&l&&l.length>0&&(0,n.jsxs)(a.Z,{style:{flex:1},children:[(0,n.jsx)(Ie.Z,{variant:"title-3",numberOfLines:2,style:mr.reviewTitle,children:o}),l.slice(0,3).map((function(e){return(0,n.jsxs)(a.Z,{style:mr.reviewItem,children:[(0,n.jsx)(Ie.Z,{variant:"caption-tiny",ink:"secondary",numberOfLines:1,style:{paddingRight:ce.Z.spacing.xxs},children:e.label}),(0,n.jsxs)(Ie.Z,{variant:"caption-tiny",ink:"secondary",children:["(",e.count,")"]})]},e.label)}))]}),(0,n.jsx)(a.Z,{style:{flex:1},children:(0,n.jsxs)(Kt.Z,{spacing:"xs",children:[Boolean(Z)&&(0,n.jsxs)(a.Z,{style:{flexDirection:"row",width:"100%"},children:[(0,n.jsx)(je.Z,{src:dr(),height:12,width:12}),(0,n.jsx)(Ie.Z,{variant:"caption-tiny",ink:"highlight",numberOfLines:2,style:{marginLeft:ce.Z.spacing.xxs},children:Z})]}),j&&j.length>0&&(0,n.jsx)(a.Z,{children:j.map((function(e){return(0,n.jsxs)(a.Z,{style:{flexDirection:"row",width:"100%"},children:[(0,n.jsx)(je.Z,{src:hr(),height:14,width:14}),(0,n.jsx)(Ie.Z,{variant:"caption-tiny",ink:"secondary",numberOfLines:2,style:{marginLeft:2},children:e})]},e)}))})]})})]})]}),(0,n.jsxs)(a.Z,{style:{flex:1,justifyContent:"flex-end"},children:[(0,n.jsxs)(a.Z,{style:{alignContent:"flex-end"},children:[(0,n.jsx)(a.Z,{style:{flexDirection:"row",justifyContent:"flex-end"},children:r&&(0,n.jsx)(a.Z,{style:mr.cardCampaignLabelItem,children:(0,n.jsxs)(a.Z,{style:{flexDirection:"row",width:"100%"},children:[Boolean(r.iconUrl)&&(0,n.jsx)(je.Z,{src:r.iconUrl||"",height:12,width:12}),(0,n.jsx)(Ie.Z,{variant:"caption-tiny",style:fr({color:r.textColor||ce.Z.color.uiGreenPrimary},ce.Z.typography.weightBold),numberOfLines:1,children:r.text})]})})}),T&&(0,n.jsx)(Ie.Z,{variant:"ui-tiny",ink:"secondary",style:{alignSelf:"flex-end"},children:T}),Boolean(s)&&(0,n.jsxs)(Ie.Z,{variant:"ui-tiny",ink:"muted",style:{textDecorationLine:"line-through",alignSelf:"flex-end"},children:[s," ",x]}),(0,n.jsx)(a.Z,{style:{alignSelf:"flex-end"},children:(0,n.jsxs)(Re.Z,{spacing:"xxs",children:[(0,n.jsx)(Ie.Z,{variant:"title-1",ink:f?"price":"secondary",children:d}),(0,n.jsx)(Ie.Z,{variant:"ui-tiny",ink:"secondary",children:x})]})}),(0,n.jsxs)(Ie.Z,{variant:"ui-tiny",ink:"secondary",style:{alignSelf:"flex-end"},children:[u," ",p]})]}),(0,n.jsxs)(a.Z,{style:mr.cta,children:[f&&(0,n.jsx)(sr.Z,{containerStyle:mr.ctaButton,variant:"main-cta",text:S,onPress:I}),C&&(0,n.jsxs)(a.Z,{children:[f&&g&&(0,n.jsx)(Ie.Z,{variant:"caption-tiny",ink:"destructive-interactive",style:mr.availability,children:g}),!f&&(0,n.jsx)(Ie.Z,{variant:"caption-tiny",ink:"secondary",style:mr.availability,children:v})]})]})]})]})]})}var mr=l.Z.create({container:{marginBottom:ce.Z.spacing.m},content:{padding:ce.Z.spacing.m,flexDirection:"row"},promoLabelItem:{borderBottomEndRadius:ce.Z.border.radius.normal,paddingVertical:ce.Z.spacing.xxs,paddingHorizontal:ce.Z.spacing.s},cardCampaignLabelItem:{borderBottomEndRadius:ce.Z.border.radius.normal,paddingVertical:ce.Z.spacing.xxs},cta:{marginTop:ce.Z.spacing.m},ctaButton:{paddingHorizontal:ce.Z.spacing.l},reviewTitle:fr({paddingBottom:ce.Z.spacing.xxs},ce.Z.typography.weightBold),reviewItem:{flex:1,flexDirection:"row",paddingTop:ce.Z.spacing.xxs},availability:{marginTop:ce.Z.spacing.xxs,textAlign:"right"},disabledContainer:{backgroundColor:ce.Z.color.uiLightNeutral}});function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function br(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xr=272;function Sr(){var e=i.useRef(null),t=Tr(i.useState(0),2),r=t[0],l=t[1],o=yt(),d=o.groupedInventories,p=o.handleSelectVehicle,g=o.formatCurrency,f=o.handleCloseSupplierTray,v=function(e){var t=(0,c.hw)(w.G),r=(0,Je.t)(),n=(0,kt.H)().query,a=(0,Nt.Z)(),l=(0,U.vX)(),o=l.productId,d=l.fromLocation,p=l.startDate,g=l.endDate,f=l.startTime,v=l.endTime,m=l.driverless,y=(0,s.Wn)(),b=(0,Ut.kE)(),T=(0,q.I)().rentalTrack,S=(0,O.Jd)("vehicle-rental-detail-ssg").enabled,Z=Bt(R(),2),j=Z[0],I=Z[1],C=j.pollingResult,E=j.inventories,_=j.selectedVehicleId,P=j.searchId,D=j.sortType,L=h(E,j.customFilters).filter((function(e){return e.vehicleData.vehicleId===_})),A=L.filter((function(e){return e.availabilityData.availableToBook})),k=L.filter((function(e){return!e.availabilityData.availableToBook})),N=!(null===C||void 0===C?void 0:C.completed),M=null;if(L.length){var H=L[0];M={productId:H.productData.productId,productName:H.vehicleData.vehicleName,imageThumbnailUrl:H.productData.imageThumbnailUrl,seatCapacity:H.vehicleData.seatCapacity,baggageCapacity:H.vehicleData.baggageCapacity,transmissionType:m?H.vehicleData.transmissionType:"",usageNote:H.vehicleData.usageNote}}var F=(0,i.useMemo)((function(){try{return Gt(x(A,D)).concat(Gt(k)).map((function(e){var n,i,a,l,o,c,s,u,d,p,h,g,f,v,y=r(null===(n=e.pricing)||void 0===n?void 0:n.sellingPrice),b=r(null===(i=e.pricing)||void 0===i?void 0:i.totalSellingPrice),x=(null===(a=e.pricing)||void 0===a?void 0:a.totalPublishPrice)&&Number(e.pricing.totalSellingPrice.currencyValue.amount)<Number(e.pricing.totalPublishPrice.currencyValue.amount)?r(e.pricing.totalPublishPrice):"",S=Boolean(null===(l=e.supplierData.ratingData)||void 0===l?void 0:l.ratingCount),Z=S?"".concat(Number(null===(o=e.supplierData.ratingData)||void 0===o?void 0:o.ratingValue).toFixed(1),"/").concat(Number(null===(c=e.supplierData.ratingData)||void 0===c?void 0:c.ratingMaxValue).toFixed(1)):t.RentalMobile.noRating,j=null===(s=e.supplierData.ratingData)||void 0===s?void 0:s.ratingCount,I="";m&&(e.productData.cutoffDurationInfo?I=e.productData.cutoffDurationInfo:"STRICT_24_HOURS"===e.supplierData.dailyUsageType?I=t.RentalMobile.usage24Hours:"UP_TO_MIDNIGHT"===e.supplierData.dailyUsageType&&(I=t.RentalMobile.usageMidnight));var C,E,R,_,P=null===(u=e.productHighlight)||void 0===u?void 0:u.campaignLabels.sort((function(e,t){return Number(null!==(f=e.priority)&&void 0!==f?f:"99")-Number(null!==(v=t.priority)&&void 0!==v?v:"99")})),w=function(t){try{T({eventTrackingName:"EXPAND"===t?"EXPAND_REVIEW_SUMMARY":"COLLAPSE_REVIEW_SUMMARY",eventTrigger:"SUPPLIER_LIST_TRAY",productId:e.productData.productId,vehicleId:e.vehicleData.vehicleId,supplierId:e.supplierData.supplierId,vehicleName:e.vehicleData.vehicleName,supplierName:e.supplierData.supplierName,driverType:e.driverless?"WITHOUT_DRIVER":"WITH_DRIVER"})}catch(r){}};return{productId:e.productData.productId,supplierId:e.supplierData.supplierId,supplierName:e.supplierData.supplierName,logoImageUrl:e.supplierData.logoImageUrl,highlightedCampaign:(null===P||void 0===P?void 0:P.length)?P[0]:null,campaignLabels:P,promoLabels:(null===(d=e.productHighlight)||void 0===d||null===(p=d.promoLabels)||void 0===p?void 0:p.length)?e.productHighlight.promoLabels.sort((function(e,t){return Number(null!==(C=e.priority)&&void 0!==C?C:99)-Number(null!==(E=t.priority)&&void 0!==E?E:99)})).slice(0,3):[],summary:null!==(R=null===(h=e.supplierData.ratingData)||void 0===h?void 0:h.summary)&&void 0!==R?R:[],summaryTitle:t.RentalMobile.reviewSummary_title,availableToBook:e.availabilityData.availableToBook,unavailabilityLabel:e.availabilityData.unavailabilityLabel,stockDisplay:e.availabilityData.stockDisplay,uspList:e.supplierData.uspList,chargingUnit:null!==(_=null===(g=e.pricing)||void 0===g?void 0:g.chargingUnit.label)&&void 0!==_?_:"",dailyUsageLabel:I,sellingPrice:y,totalSellingPrice:b,publishPrice:x,hasRating:S,ratingScoreLabel:Z,ratingCount:j,handleClickSupplier:function(){return B(e.supplierData.supplierId,e.productData.productId,e.productData.productName)},handleTrackExpandReviewSummary:function(){return w("EXPAND")},handleTrackCollapseReviewSummary:function(){return w("COLLAPSE")}}}))}catch(e){return u.$.captureException(e,{contexts:{metadata:{errorKind:"search_format_inventories_error"}}}),[]}}),[L,D]),B=function(t,r,i){try{var l,o,c,s,h,x,Z,I,C,E,R=A.find((function(e){return e.supplierData.supplierId===t})),_="CR.".concat(d.locationId,".").concat(p.day).concat(p.month).concat(p.year,".").concat((0,Ut.HM)(p,g),".DAY.").concat(f.hour).concat(f.minute),w=(0,Ut.md)(p,f),D=(0,Ut.md)(g,v),L={eventTrackingName:"SELECT_SUPPLIER",eventTrigger:"TVLK_HOME_PAGE",driverType:R.driverless?"WITHOUT_DRIVER":"WITH_DRIVER",visitId:(0,V.AC)(),startRentalDate:(0,dt.Z)((0,gt.D1)(p),"yyyy-MM-dd"),startRentalTimestampGmt7:(0,Vt.Z)(w,"Asia/Jakarta").getTime(),pickUpTime:(0,dt.Z)((0,ft.Yp)(f),"HH:mm"),endRentalDate:(0,dt.Z)((0,gt.D1)(g),"yyyy-MM-dd"),endRentalTimestampGmt7:(0,Vt.Z)(D,"Asia/Jakarta").getTime(),dropOffTime:(0,dt.Z)((0,ft.Yp)(v),"HH:mm"),productId:R.productData.productId,vehicleId:R.vehicleData.vehicleId,supplierId:R.supplierData.supplierId,supplierName:R.supplierData.supplierName,supplierRating:null!==(x=null===(l=R.supplierData.ratingData)||void 0===l?void 0:l.ratingValue)&&void 0!==x?x:"",rentalGeoId:d.locationId,rentalGeoType:d.locationType,rentalGeoName:d.name,supplierCarQualityRating:null!==(Z=null===(o=R.supplierData.ratingData)||void 0===o?void 0:o.ratingValue)&&void 0!==Z?Z:"",searchSupplierId:(0,V.eW)(),transmissionType:R.vehicleData.transmissionType,transportationType:R.vehicleData.transportationType,vehicleType:R.vehicleData.vehicleType,vehicleBrand:R.vehicleData.vehicleBrand,vehicleModel:R.vehicleData.vehicleModel,vehicleName:R.vehicleData.vehicleName,vehicleNumOfSeats:R.vehicleData.seatCapacity,productType:R.productType,durationValue:(0,Ut.HM)(p,g),durationUnit:"DAY"};(null===(c=R.productHighlight)||void 0===c?void 0:c.promoLabels.length)&&(L.promoBannerCode=R.productHighlight.promoLabels.map((function(e){var t,r,n;return null!==(I=null===(n=null===(t=R.productHighlight)||void 0===t||null===(r=t.appliedPromo)||void 0===r?void 0:r.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.code)&&void 0!==I?I:""})).filter((function(e){return e})).join(";")),(null===(s=R.productHighlight)||void 0===s?void 0:s.campaignLabels.length)&&(L.campaignCode=R.productHighlight.campaignLabels.map((function(e){var t,r,n;return null!==(C=null===(n=null===(t=R.productHighlight)||void 0===t||null===(r=t.appliedCampaign)||void 0===r?void 0:r.find((function(t){return t.id===e.id})))||void 0===n?void 0:n.code)&&void 0!==C?C:""})).filter((function(e){return e})).join(";")),T(L);var O={event_name:"car_supplier_selected",fb_content_type:"product",fb_content_id:_,car_geo_type:d.locationSubType,car_geo_name:d.name,driver_type:m?"WITHOUT_DRIVER":"WITH_DRIVER",rental_start_time:w,rental_end_time:D,rental_start_time_string:(0,Ut.p6)(p,b,"dd-MM-yyyy"),rental_end_time_string:(0,Ut.p6)(g,b,"dd-MM-yyyy"),car_id:R.vehicleData.vehicleId,car_product_id:r,car_supplier_id:t,car_supplier_name:R.supplierData.supplierName,car_supplier_rating:null!==(E=null===(h=R.supplierData.ratingData)||void 0===h?void 0:h.ratingValue)&&void 0!==E?E:""};y("GTM","TRACK",O),y("GOOGLE_REMARKETING_SEM","car_supplier_selected",{web_event:"car_supplier_selected"}),y("GOOGLE_CONVERSION_SEM","car_supplier_selected",{version:"1.0"})}catch(ie){u.$.captureException(ie,{contexts:{metadata:{errorKind:"search_select_inventory_tracking_error"}}})}var k=p.day,N=p.month,U=p.year,M=f.hour,H=f.minute,F=g.day,B=g.month,G=g.year,W=v.hour,z=v.minute,X="".concat(k,"-").concat(N,"-").concat(U,".").concat(M,"-").concat(H,".").concat(F,"-").concat(B,"-").concat(G,".").concat(W,"-").concat(z);if(e.onClose(),S){var $,K,Y,q,J=Bt(a({route:"/car-rental/detail",query:Ft({},n,{productId:r,supplierId:t,productName:i,fromRouteId:null!==(Y=null===($=j.routeResult)||void 0===$?void 0:$.fromRouteId)&&void 0!==Y?Y:"",toRouteId:null!==(q=null===(K=j.routeResult)||void 0===K?void 0:K.toRouteId)&&void 0!==q?q:"",searchId:P})}),2)[1];window.location.href=J}else{var Q,ee,te,re,ne=Bt(a({route:"/car-rental/detail/[rentalGist]",params:{rentalGist:X},query:Ft({},n,{productId:r,supplierId:t,productName:i,fromRouteId:null!==(te=null===(Q=j.routeResult)||void 0===Q?void 0:Q.fromRouteId)&&void 0!==te?te:"",toRouteId:null!==(re=null===(ee=j.routeResult)||void 0===ee?void 0:ee.toRouteId)&&void 0!==re?re:"",searchId:P})}),2)[1];window.location.href=ne}};return(0,i.useEffect)((function(){e.isVisible&&o&&j.inventories.some((function(e){return e.productData.productId===o}))&&I({type:"SELECT_VEHICLE",payload:o})}),[]),{selectedVehicle:M,formattedSupplier:F,isPolling:N,driverless:m,trayTitle:t.RentalMobile.searchResult_selectSupplier,allSuppliersDisplayed:t.RentalMobile.searchResult_allSupplierDisplayed,backToVehiclePage:t.RentalMobile.backToVehiclePage,basicRental:t.RentalMobile.from,totalLabel:t.RENTAL_SEARCH.TXT_total,carType:t.RentalMobile.searchResult_filter_carType,continueLabel:t.RentalMobile.continue}}({isVisible:!1,onClose:function(){return null}}),m=v.trayTitle,y=v.selectedVehicle,b=v.formattedSupplier,T=v.isPolling,S=v.allSuppliersDisplayed,Z=v.backToVehiclePage,j=v.basicRental,I=v.carType,C=v.totalLabel,E=v.continueLabel,_=v.driverless;i.useEffect((function(){if(y){var t=d.findIndex((function(e){return e.productData.productId===y.productId}));if(-1!==t){var r,n=xr*Math.floor(t/3)*3;null===(r=e.current)||void 0===r||r.scrollTo({x:n}),l(n)}}window.scrollTo({top:140,behavior:"smooth"})}),[]);var P,D,L=function(e){var t,r=e.productData,i=r.productName,a=r.imageThumbnailUrl,l=r.productId,o=e.vehicleData,c=o.vehicleId,s=o.seatCapacity,u=o.baggageCapacity,d=o.transmissionType,h=e.lowestPrice,f=e.chargingUnit,v=e.driverless,m=(null===y||void 0===y?void 0:y.productId)===l;return(0,n.jsx)(or,{productName:i,productImageUrl:null!==a&&void 0!==a?a:"",active:m,seatCapacity:s,baggageCapacity:u,onPress:function(){return p(e)},width:260,price:g(h),chargingUnit:null!==(t=null===f||void 0===f?void 0:f.label)&&void 0!==t?t:"",transmissionType:v?d:""},c)};return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsxs)(Re.Z,{spacing:"s",children:[(0,n.jsx)(de.Z,{onPress:f,children:(0,n.jsx)(zt.Z,{width:20,color:ce.Z.color.uiBluePrimary})}),(0,n.jsx)(Ie.Z,{variant:"title-2",children:Z})]}),(0,n.jsxs)(a.Z,{style:Zr.vehicleList,children:[r>0&&(0,n.jsx)(de.Z,{onPress:function(){var t,n=r-816;null===(t=e.current)||void 0===t||t.scrollTo({x:n}),l(n)},style:[Zr.scrollIcon,{left:0}],children:(0,n.jsx)(Xt.Z,{color:ce.Z.color.uiBluePrimary})}),r<xr*d.length&&(0,n.jsx)(de.Z,{onPress:function(){var t,n=r+816;null===(t=e.current)||void 0===t||t.scrollTo({x:n}),l(n)},style:[Zr.scrollIcon,{right:0}],children:(0,n.jsx)($t.Z,{color:ce.Z.color.uiBluePrimary})}),(0,n.jsx)($e.Z,{style:Zr.scrollView,horizontal:!0,ref:e,scrollEnabled:!1,children:d.map((function(e,t){return(0,n.jsx)(nr,{direction:"row",alignContent:"center",justifyContent:"center",alignItems:"center",children:L(e)},t)}))})]}),(0,n.jsxs)(a.Z,{style:Zr.sortFilter,children:[(0,n.jsx)(a.Z,{style:{flex:1},children:(0,n.jsxs)(a.Z,{style:{flexDirection:"row",width:"100% "},children:[(0,n.jsx)(a.Z,{style:Zr.imageThumbnail,children:(0,n.jsx)(Ce.Z,{src:null!==(P=null===y||void 0===y?void 0:y.imageThumbnailUrl)&&void 0!==P?P:""})}),(0,n.jsx)(a.Z,{style:{flex:1,paddingTop:_?ce.Z.spacing.xs:ce.Z.spacing.m},children:(0,n.jsxs)(Kt.Z,{spacing:"xxs",children:[(0,n.jsx)(Ie.Z,{variant:"ui-small",ink:"secondary",children:I}),(0,n.jsx)(Ie.Z,{variant:"title-3",numberOfLines:1,children:null===y||void 0===y?void 0:y.productName}),Boolean(_&&(null===y||void 0===y?void 0:y.transmissionType))&&(0,n.jsx)(Ie.Z,{variant:"ui-tiny",ink:"secondary",children:null===y||void 0===y?void 0:y.transmissionType})]})})]})}),(0,n.jsx)(a.Z,{style:Zr.sort,children:(0,n.jsx)(Xe,{})})]}),(0,n.jsx)(Ie.Z,{variant:"title-1",style:{marginBottom:ce.Z.spacing.xs},children:m}),b.map((function(e){return(0,n.jsx)(vr,{supplierName:e.supplierName,supplierLogoUrl:e.logoImageUrl,chargingUnitText:e.chargingUnit,sellingPriceText:e.sellingPrice,totalPriceText:e.totalSellingPrice,promoLabels:e.promoLabels,highlightedCampaign:e.highlightedCampaign,summary:e.summary,summaryTitle:e.summaryTitle,availableToBook:e.availableToBook,stockDisplayText:e.stockDisplay,unavailabilityText:null!==(D=e.unavailabilityLabel)&&void 0!==D?D:"",publishedPriceText:e.publishPrice,ratingCount:e.ratingCount,ratingScoreLabel:e.ratingScoreLabel,hasRating:e.hasRating,onPress:e.handleClickSupplier,basicRental:_?"":j,totalLabel:C,continueLabel:E,uspList:e.uspList,chargingTypeText:e.dailyUsageLabel},e.supplierId)})),(0,n.jsx)(a.Z,{style:Zr.suppliersBottomContainer,children:T?(0,n.jsx)(Yt.Z,{}):(0,n.jsx)(Ie.Z,{ink:"secondary",variant:"title-3",children:S})})]})}var Zr=l.Z.create({sortFilter:{zIndex:3,flexDirection:"row",justifyContent:"space-between",marginVertical:ce.Z.spacing.m},sort:{marginTop:ce.Z.spacing.s},vehicleList:{height:100,marginBottom:ce.Z.spacing.m},scrollView:{paddingRight:ce.Z.spacing.m},scrollIcon:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){br(e,t,r[t])}))}return e}({top:ce.Z.spacing.xl,position:"absolute",zIndex:3,padding:ce.Z.spacing.xs,backgroundColor:ce.Z.color.uiLightPrimary,borderRadius:ce.Z.border.radius.rounded},ce.Z.elevation.float),suppliersBottomContainer:{alignItems:"center",paddingTop:ce.Z.spacing.m,paddingBottom:ce.Z.spacing.xs,paddingHorizontal:ce.Z.spacing.m},imageThumbnail:{height:72,width:72,backgroundColor:ce.Z.color.uiLightPrimary,borderRadius:ce.Z.border.radius.normal,justifyContent:"center",marginRight:ce.Z.spacing.m}});function jr(){return(0,n.jsx)(oe.Z,{style:Cr.content,elevation:"raised",children:(0,n.jsxs)(Re.Z,{spacing:"m",padding:"m",alignment:"top",children:[(0,n.jsx)(Tt.Z,{width:144,height:120}),(0,n.jsx)(a.Z,{style:{width:430},children:(0,n.jsxs)(Kt.Z,{spacing:"xxs",children:[(0,n.jsx)(Tt.Z,{width:140,height:20}),(0,n.jsx)(Tt.Z,{width:200,height:20}),(0,n.jsx)(Tt.Z,{width:180,height:20}),(0,n.jsx)(a.Z,{style:{marginTop:ce.Z.spacing.l},children:(0,n.jsx)(Tt.Z,{width:220,height:20})})]})}),(0,n.jsx)(a.Z,{style:{width:320},children:(0,n.jsxs)(Kt.Z,{spacing:"xxs",alignment:"trailing",children:[(0,n.jsx)(Tt.Z,{width:100,height:20}),(0,n.jsx)(Tt.Z,{width:200,height:20}),(0,n.jsx)(a.Z,{style:{marginTop:ce.Z.spacing.l},children:(0,n.jsx)(Tt.Z,{width:220,height:44})})]})})]})})}function Ir(){return(0,n.jsxs)(a.Z,{style:Cr.container,children:[(0,n.jsx)(a.Z,{style:Cr.sortFilter,children:(0,n.jsxs)(Re.Z,{justifyContent:"space-between",children:[(0,n.jsxs)(Re.Z,{spacing:"m",children:[(0,n.jsx)(Tt.Z,{width:50,height:30}),(0,n.jsx)(Tt.Z,{width:190,height:30}),(0,n.jsx)(Tt.Z,{width:160,height:30})]}),(0,n.jsx)(Tt.Z,{width:160,height:30})]})}),(0,n.jsx)(jr,{}),(0,n.jsx)(jr,{}),(0,n.jsx)(jr,{})]})}var Cr=l.Z.create({container:{marginBottom:100,width:960,alignSelf:"center",zIndex:2},content:{marginBottom:ce.Z.spacing.m},sortFilter:{marginTop:ce.Z.spacing.m,marginBottom:ce.Z.spacing.xl}});function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||Pr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e){return function(e){if(Array.isArray(e))return Er(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){if(e){if("string"===typeof e)return Er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Er(e,t):void 0}}function wr(){var e=le(),t=e.contentResource,r=e.searchStatus,l=e.isFirstTimeLoading,o=e.isPolling,c=e.isError,s=e.isFilteredProductsEmpty,u=e.showFilterBanners,d=e.isNoAvailableInventories,p=e.isEmptyInventories,h=e.selectedFilterTag,g=e.availableFilterBanners,f=e.handleSelectFilterTag,v=e.filteredGroupInventories,m=e.selectedVehicleId,y=e.handleResetAndFetchProducts,b=e.handleResetFilter,T=i.useMemo((function(){if(!u||o||d)return null;var e;return(0,n.jsx)(oe.Z,{style:Dr.quickFilter,children:(0,n.jsx)(ke,{title:t.RentalMobile.searchResult_filter_featuredCar,tabs:g.map((function(t){var r;return{id:"".concat(t.filterType,"-").concat(null!==(e=null===(r=t.filterData)||void 0===r?void 0:r.filterTag)&&void 0!==e?e:""),quickFilterCopy:t.filterDisplay.title,priority:0,type:"",iconUrl:""}})),defaultActiveTab:h.filterTags.map((function(e){return"".concat(h.filterType,"-").concat(e)})),onPressTab:function(e){var t=Rr(e.id.split("-"),2),r=t[0],n=t[1],i=h.filterType===r&&h.filterTags.includes(null!==n&&void 0!==n?n:"");f(i?{filterType:1===h.filterTags.length?null:h.filterType,filterTags:h.filterTags.filter((function(e){return e!==n}))}:{filterType:r,filterTags:_r(h.filterTags).concat([null!==n&&void 0!==n?n:""])})}})})}),[g,o,u,d]);if(l||o&&p)return(0,n.jsx)(Ir,{});return(0,n.jsxs)(a.Z,{style:Dr.container,children:[!m&&T,(0,n.jsxs)(a.Z,{style:Dr.content,children:[!m&&(0,n.jsxs)(a.Z,{style:Dr.sortFilter,children:[(0,n.jsx)(ct,{}),(0,n.jsx)(Xe,{})]}),c&&!v.length?(0,n.jsx)(Me.Z,{status:r,handleFetchProducts:y,handleResetFilter:b,noContainerStyle:!0,style:Dr.loadingContainer}):!o&&d?(0,n.jsx)(Me.Z,{status:{status:"FAILED_NO_PRODUCT",statusTitle:t.RentalMobile.searchResult_inventory_emptyTitle,statusMessage:t.RentalMobile.searchResult_inventory_emptyDescription},handleResetFilter:b,noContainerStyle:!0,style:Dr.loadingContainer}):s?(0,n.jsx)(Me.Z,{status:{status:"SUCCESS",statusTitle:t.RentalMobile.searchResult_filter_errorTitle,statusMessage:t.RentalMobile.searchResult_filter_errorDescription},handleResetFilter:b,noContainerStyle:!0,style:Dr.loadingContainer}):m?(0,n.jsx)(Sr,{}):(0,n.jsx)(Ot,{})]})]})}var Dr=l.Z.create({container:{marginBottom:100,width:960,alignSelf:"center",zIndex:2},content:{marginTop:ce.Z.spacing.m},sortFilter:{zIndex:3,flexDirection:"row",justifyContent:"space-between",marginBottom:ce.Z.spacing.m},loadingContainer:{marginVertical:ce.Z.spacing.xxl},quickFilter:{marginTop:2,backgroundColor:ce.Z.color.uiLightNeutral,paddingHorizontal:ce.Z.spacing.m,paddingVertical:ce.Z.spacing.xs}}),Lr=r(90698),Or=r(6741),Ar=r(6145);function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(c){o=!0,i=c}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vr=(0,o.lV)(w.G,P.N,_.F,D.Z);function Ur(){(0,c.Wf)({contentResource:Vr,imageResource:_.s});var e=Nr(i.useReducer(j,{searchStatus:{status:""},searchId:"",pollingResult:null,inventories:[],routeResult:null,featureData:null,progressBar:0,filters:{vehicleTypes:[],price:{min:0,max:0},suppliers:[]},customFilters:{selectedTransmissionType:[],selectedSeatCapacity:[],selectedFilterTag:{filterType:null,filterTags:[]},selectedVehicleTypes:[],selectedPrice:{min:0,max:0},selectedSuppliers:[]},sortType:"PRICE_ASC",selectedVehicleId:null,searchResultTime:{searchVehicleResultLoadStartTimestamp:null,searchVehicleResultLoadEndTimestamp:null},frontendTrackingMap:{}}),2),t=e[0],r=e[1];return(0,n.jsx)(s.ZP,{product:"rental",children:(0,n.jsx)(I.Provider,{value:t,children:(0,n.jsx)(C.Provider,{value:r,children:(0,n.jsxs)(a.Z,{style:Hr.container,children:[(0,n.jsx)(Or.p,{}),(0,n.jsx)(p.default,{onSSR:(0,n.jsx)(a.Z,{style:Hr.headerPlaceholder,children:(0,n.jsx)(Tt.Z,{width:960,height:107})}),children:(0,n.jsx)(Ar.Z,{})}),(0,n.jsx)(p.default,{onSSR:(0,n.jsx)(Ir,{}),children:(0,n.jsx)(wr,{})}),(0,n.jsx)(Lr.Xv,{})]})})})})}function Mr(){return(0,n.jsx)(d.ErrorBoundary,{fallbackRender:function(){return null},onError:function(e,t){u.$.captureException(e,{contexts:{react:t,metadata:{errorKind:"search_result_render_phase_error"}}})},children:(0,n.jsx)(Ur,{})})}var Hr=l.Z.create({container:{backgroundColor:ce.Z.color.uiLightStain},headerPlaceholder:{alignItems:"center"}})},64284:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(74512),i=r(32735),a=r(87904),l=r(6907),o=r(70595),c=r(67091),s=r(40925),u=r(5006),d=r(51080),p=r(3022),h=r(98194),g=r(94117);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=e.label,r=e.cardTitle,l=e.children,f=e.selected,v=e.position,y=void 0===v?"left":v,b=e.disabled,T=e.width,x=(0,i.useRef)(null),S=(0,i.useState)(!1),Z=S[0],j=S[1],I=(0,i.useCallback)((function(){j(!1)}),[j]);return(0,g.Z)(x,I),(0,n.jsxs)(a.Z,{ref:function(e){x.current=e},children:[(0,n.jsx)(o.Z,{disabled:b,size:"small",variant:"secondary",text:t,IconEnd:f?(0,n.jsx)(p.Z,{height:16,color:c.Z.color.uiBluePrimary}):(0,n.jsx)(h.Z,{height:16,color:b?c.Z.color.uiLightSecondary:c.Z.color.uiBluePrimary}),containerStyle:m.button,onPress:function(){j((function(e){return!e}))}}),(0,n.jsxs)(s.Z,{elevation:"float",style:[{display:Z?"flex":"none",width:T},m.card,"left"===y&&{left:0},"right"===y&&{right:0}],children:[r&&(0,n.jsx)(d.ZP,{padding:{horizontal:"m",top:"m"},children:(0,n.jsx)(u.Z,{variant:"title-2",children:r})}),l]})]})}var m=l.Z.create({button:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}({paddingHorizontal:c.Z.spacing.s,paddingVertical:c.Z.spacing.xs,borderRadius:c.Z.border.radius.rounded,backgroundColor:c.Z.color.uiLightPrimary},c.Z.elevation.interactive),card:{position:"absolute",top:40,minWidth:260,paddingTop:c.Z.spacing.m,animationDuration:"".concat(c.Z.animation.timing.instant,"ms"),animationKeyframes:[{from:{opacity:0,transform:"translate3d(0, ".concat(c.Z.spacing.xs,"px, 0)")},to:{opacity:1,transform:"translate3d(0, 0, 0)"}}],animationTimingFunction:"ease-out"}})},14658:function(e,t,r){var n=r(74512),i=r(32735),a=r(5060),l=r(87904),o=r(6907),c=r(87398),s=r(67091);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=(0,i.createContext)({checked:!1,onChange:function(){}});function h(e){var t=e.children,r=e.inline,i=void 0===r||r,o=e.noAlign,c=void 0!==o&&o,s=e.unstable_childPointerEvents,u=void 0===s?"none":s,h=d(e,["children","inline","noAlign","unstable_childPointerEvents"]),f=h.checked,v=h.disabled,m=h.onChange,y={flexDirection:i?"row":"column",alignItems:c?"stretch":"center"};return(0,n.jsx)(p.Provider,{value:h,children:t?(0,n.jsx)(a.Z,{disabled:v,onPress:function(){m(!f)},"aria-checked":f,children:(0,n.jsx)(l.Z,{pointerEvents:u,style:y,children:t})}):(0,n.jsx)(g,{})})}function g(){var e=(0,i.useContext)(p),t=e.checked,r=d(e,["checked"]);return(0,n.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({},r,{value:t,color:e.disabled?s.Z.color.uiLightSecondary:e.color,labelStyle:[f.label,e.disabled&&f.labelDisabled],style:[f.checkbox,e.disabled&&f.disabled],"aria-checked":t}))}h.Control=g,t.Z=h;var f=o.Z.create({checkbox:{alignItems:"center",padding:0},disabled:{opacity:.9},label:{marginLeft:-2},labelDisabled:{color:s.Z.color.uiLightSecondary}})}}]);